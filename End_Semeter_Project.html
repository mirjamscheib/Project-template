<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.353">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Mirjam Scheib &amp; Miriam Steinhauer">
<meta name="dcterms.date" content="2023-07-02">

<title>Effects of three environmental factors on spatio-temporal movement patterns of students</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="End_Semeter_Project_files/libs/clipboard/clipboard.min.js"></script>
<script src="End_Semeter_Project_files/libs/quarto-html/quarto.js"></script>
<script src="End_Semeter_Project_files/libs/quarto-html/popper.min.js"></script>
<script src="End_Semeter_Project_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="End_Semeter_Project_files/libs/quarto-html/anchor.min.js"></script>
<link href="End_Semeter_Project_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="End_Semeter_Project_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="End_Semeter_Project_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="End_Semeter_Project_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="End_Semeter_Project_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">


</head>

<body>

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
  <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#to-dos-im-code" id="toc-to-dos-im-code" class="nav-link active" data-scroll-target="#to-dos-im-code"><span class="header-section-number">1</span> To Do’s im Code</a></li>
  <li><a href="#background-and-research-questions" id="toc-background-and-research-questions" class="nav-link" data-scroll-target="#background-and-research-questions"><span class="header-section-number">2</span> BACKGROUND AND RESEARCH QUESTIONS</a></li>
  <li><a href="#data-methods" id="toc-data-methods" class="nav-link" data-scroll-target="#data-methods"><span class="header-section-number">3</span> DATA &amp; METHODS</a>
  <ul class="collapse">
  <li><a href="#data" id="toc-data" class="nav-link" data-scroll-target="#data"><span class="header-section-number">3.1</span> Data</a></li>
  <li><a href="#pre-processing" id="toc-pre-processing" class="nav-link" data-scroll-target="#pre-processing"><span class="header-section-number">3.2</span> Pre-processing</a></li>
  <li><a href="#analysis" id="toc-analysis" class="nav-link" data-scroll-target="#analysis"><span class="header-section-number">3.3</span> Analysis</a></li>
  </ul></li>
  <li><a href="#results" id="toc-results" class="nav-link" data-scroll-target="#results"><span class="header-section-number">4</span> RESULTS</a>
  <ul class="collapse">
  <li><a href="#impact-of-the-day-of-the-week" id="toc-impact-of-the-day-of-the-week" class="nav-link" data-scroll-target="#impact-of-the-day-of-the-week"><span class="header-section-number">4.1</span> Impact of the day of the week</a>
  <ul class="collapse">
  <li><a href="#spatial-analysis" id="toc-spatial-analysis" class="nav-link" data-scroll-target="#spatial-analysis"><span class="header-section-number">4.1.1</span> Spatial Analysis</a></li>
  <li><a href="#temporal-analysis" id="toc-temporal-analysis" class="nav-link" data-scroll-target="#temporal-analysis"><span class="header-section-number">4.1.2</span> Temporal Analysis</a></li>
  </ul></li>
  <li><a href="#impact-of-the-time-of-the-day" id="toc-impact-of-the-time-of-the-day" class="nav-link" data-scroll-target="#impact-of-the-time-of-the-day"><span class="header-section-number">4.2</span> Impact of the time of the day</a>
  <ul class="collapse">
  <li><a href="#spatial-analysis-1" id="toc-spatial-analysis-1" class="nav-link" data-scroll-target="#spatial-analysis-1"><span class="header-section-number">4.2.1</span> Spatial Analysis</a></li>
  <li><a href="#temproal-analysis" id="toc-temproal-analysis" class="nav-link" data-scroll-target="#temproal-analysis"><span class="header-section-number">4.2.2</span> Temproal Analysis</a></li>
  </ul></li>
  <li><a href="#impact-of-precipitation" id="toc-impact-of-precipitation" class="nav-link" data-scroll-target="#impact-of-precipitation"><span class="header-section-number">4.3</span> Impact of precipitation</a>
  <ul class="collapse">
  <li><a href="#spatial-analysis-2" id="toc-spatial-analysis-2" class="nav-link" data-scroll-target="#spatial-analysis-2"><span class="header-section-number">4.3.1</span> Spatial Analysis</a></li>
  <li><a href="#temporal-analysis-1" id="toc-temporal-analysis-1" class="nav-link" data-scroll-target="#temporal-analysis-1"><span class="header-section-number">4.3.2</span> Temporal Analysis</a></li>
  </ul></li>
  </ul></li>
  <li><a href="#discussion" id="toc-discussion" class="nav-link" data-scroll-target="#discussion"><span class="header-section-number">5</span> DISCUSSION</a>
  <ul class="collapse">
  <li><a href="#days-of-the-week-patterns" id="toc-days-of-the-week-patterns" class="nav-link" data-scroll-target="#days-of-the-week-patterns"><span class="header-section-number">5.1</span> Days of the Week Patterns</a></li>
  <li><a href="#influence-of-the-time-of-the-day" id="toc-influence-of-the-time-of-the-day" class="nav-link" data-scroll-target="#influence-of-the-time-of-the-day"><span class="header-section-number">5.2</span> Influence of the Time of the Day</a></li>
  <li><a href="#precipiation-patterns" id="toc-precipiation-patterns" class="nav-link" data-scroll-target="#precipiation-patterns"><span class="header-section-number">5.3</span> Precipiation Patterns</a></li>
  </ul></li>
  <li><a href="#sources" id="toc-sources" class="nav-link" data-scroll-target="#sources"><span class="header-section-number">6</span> SOURCES</a>
  <ul class="collapse">
  <li><a href="#data-1" id="toc-data-1" class="nav-link" data-scroll-target="#data-1"><span class="header-section-number">6.1</span> Data</a></li>
  <li><a href="#literature" id="toc-literature" class="nav-link" data-scroll-target="#literature"><span class="header-section-number">6.2</span> Literature</a></li>
  </ul></li>
  </ul>
</nav>
</div>
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<div class="quarto-title-block"><div><h1 class="title">Effects of three environmental factors on spatio-temporal movement patterns of students</h1><button type="button" class="btn code-tools-button dropdown-toggle" id="quarto-code-tools-menu" data-bs-toggle="dropdown" aria-expanded="false"><i class="bi"></i> Code</button><ul class="dropdown-menu dropdown-menu-end" aria-labelelledby="quarto-code-tools-menu"><li><a id="quarto-show-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Show All Code</a></li><li><a id="quarto-hide-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Hide All Code</a></li><li><hr class="dropdown-divider"></li><li><a id="quarto-view-source" class="dropdown-item" href="javascript:void(0)" role="button">View Source</a></li></ul></div></div>
<p class="subtitle lead">Project for Patterns and Trends in Environmental Data - Computational Movement Analysis</p>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Mirjam Scheib &amp; Miriam Steinhauer </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">July 2, 2023</p>
    </div>
  </div>
  
    
  </div>
  

</header>

<section id="to-dos-im-code" class="level1" data-number="1">
<h1 data-number="1"><span class="header-section-number">1</span> To Do’s im Code</h1>
<ul>
<li>Bitte die Plots die ich noch nicht habe noch beschriften oder verbessern, es fehlen Beschriftungen/Titel für die Tables und für die tmaps, da bin ich unsicher (<span class="citation" data-cites="Mirj">@Mirj</span>)</li>
<li>Rendern (Miri)</li>
<li>Summary tables nötig? bzw. wie am besten darstellen</li>
<li>Bei results: Duration, Speed, Distance aus Text nehmen</li>
<li>Table beschriftungen? Nicht gleich wie figure beschriftung?</li>
</ul>
</section>
<section id="background-and-research-questions" class="level1" data-number="2">
<h1 data-number="2"><span class="header-section-number">2</span> BACKGROUND AND RESEARCH QUESTIONS</h1>
<p>It is known that several factors like the weather condition (Brum-Bastos et al., 2018), the day of the week and time of the day (Liu et al., 2020; Sathishkumar et al., 2020) influence spatio-temporal movement patterns of people. There are several study’s investigating movement patterns of people in urban areas with the aim to improve the distribution of facilities and the provisioning of transportation services, as well as to manage traffic peaks (Kyaing et al., 2017; Liu et al., 2020). Nevertheless, most studies do not focus on specific social groups (e.g.&nbsp;workforce, students, pensioners), that might follow distinct spatio-temporal patterns, showing a potential demand for a specific adaption of infrastructure. The canton of Zurich accommodates the most students in Switzerland, with numbers continuing to rise (Bundesamt für Statistik, 2023). Additionally, students and apprentices (from the age of 15 years) make up 39 % of the public transport commuter mass, which is why knowledge of spatio-temporal patterns of students could help to manage train and other public transport infrastructure (Bundesamt für Statistik, 2021). Therefore, we want to investigate the influence of three environmental factors on spatio-temporal movement patterns of students, aiming to answer the following research questions:</p>
<ol type="1">
<li>Does the day of the week (weekend vs.&nbsp;workday) have an influence on the spatio-temporal movement patterns of students?</li>
<li>Does the time of the day compared between weekend and workday have an influence on the spatio-temporal movement patterns of students?</li>
<li>Does precipitation has an impact the spatio-temporal movement patterns of students?</li>
</ol>
</section>
<section id="data-methods" class="level1" data-number="3">
<h1 data-number="3"><span class="header-section-number">3</span> DATA &amp; METHODS</h1>
<section id="data" class="level2" data-number="3.1">
<h2 data-number="3.1" class="anchored" data-anchor-id="data"><span class="header-section-number">3.1</span> Data</h2>
<p>Primary data used in this project work consisted of trajectory data from 11 students collected with the Posmo App containing the following attributes:</p>
<ul>
<li><strong>user_id:</strong> entails the individual ID of the user (= student) (type: character)</li>
<li><strong>datetime:</strong> date and time when a position of a user is tracked (type: datetime)</li>
<li><strong>weekday:</strong> abbreviated name of the weekday (e.g.&nbsp;Mon = Monday) (type: character)</li>
<li><strong>place_name:</strong> names of a place, in which a user is at a specific time (type: character)</li>
<li><strong>transport_mode:</strong> the type of transport used by a user (e.g.&nbsp;car, bicycle, foot, train, other….) (type: character)</li>
<li><strong>lon_x/lat_y:</strong> coordinates of the user at a specific time (type: numeric)</li>
</ul>
<p>Additionally, weather data from 84 stations in the canton of Zurich and bordering cantons (SZ, AG, ZG, TG, SG), consisting of measurements every 10 minutes was used to investigate the influence of precipitation on spatio-temporal movement patterns of students.</p>
</section>
<section id="pre-processing" class="level2" data-number="3.2">
<h2 data-number="3.2" class="anchored" data-anchor-id="pre-processing"><span class="header-section-number">3.2</span> Pre-processing</h2>
<p>For the analysis first we reviewed data consistency by creating a point plot, where every tracking point in time (x-axis) was displayed per user (y-axis). Five users needed to be eliminated due to insufficient tracking point coverage in time. Additionally, the dataset was cut into a specific timeframe (28.04.2023 - 09.05.2023) covering 11 days to ensure sufficient overlap of tracking points between users in time. Additionally, travel modes consisting of “Airplane”, “Funicular” and “Other1” were removed, as they presented either too specific or unspecific travel modes to be of interest in the subsequent analysis.</p>
<p>Furthermore, all convenience variables needed for the analysis were annotated in our pre-processing steps. First, it was discriminated between weekend (Sa – So) and weekdays (Mo – Fr). Additionally, to discriminate between days with high and low/no precipitation we calculated the nearest weather station for every trajectory point and annotated the precipitation data at the matching time to our dataset. We considered a precipitation of &gt; 20 mm per 24 hours as a rainy day, as MeteoSwiss (n.d.) defines a precipitation from 10 – 30 mm per 24 hours as high intensity precipitation.</p>
<p>To investigate spatio-temporal movement patterns of students in concern to environmental variables, we discriminated between static and movement segments and assigned to every moving sequence a segment ID. From this we calculated distance, speed and duration for every segment.</p>
<p>All pre-processing steps can be accessed in a separate quarto-file (Pre_Processing.qmd) in our github respiratory under the following link: https://github.com/mirjamscheib/Semester_Project.git</p>
</section>
<section id="analysis" class="level2" data-number="3.3">
<h2 data-number="3.3" class="anchored" data-anchor-id="analysis"><span class="header-section-number">3.3</span> Analysis</h2>
<p>The analysis of the research questions was carried out by creating summary tables and boxplots to investigate distance, speed and duration of different travel modes comparing weekends with weekdays and precipitation with no precipitation. Additionally, line plots visualising distance, speed and duration per hour of the day comparing weekends with weekdays were carried out. Cartographic maps visualising trajectory points of students comparing weekends with weekdays and precipitation and no precipitation complement the analysis.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a><span class="co"># clear space </span></span>
<span id="cb1-2"><a href="#cb1-2"></a><span class="fu">rm</span>(<span class="at">list=</span><span class="fu">ls</span>())</span>
<span id="cb1-3"><a href="#cb1-3"></a></span>
<span id="cb1-4"><a href="#cb1-4"></a><span class="co"># load packages </span></span>
<span id="cb1-5"><a href="#cb1-5"></a><span class="fu">library</span>(<span class="st">"readr"</span>)</span>
<span id="cb1-6"><a href="#cb1-6"></a><span class="fu">library</span>(<span class="st">"dplyr"</span>)</span>
<span id="cb1-7"><a href="#cb1-7"></a><span class="fu">library</span>(<span class="st">"ggplot2"</span>)</span>
<span id="cb1-8"><a href="#cb1-8"></a><span class="fu">library</span>(<span class="st">"sf"</span>)</span>
<span id="cb1-9"><a href="#cb1-9"></a><span class="fu">library</span>(<span class="st">"terra"</span>)</span>
<span id="cb1-10"><a href="#cb1-10"></a><span class="fu">library</span>(<span class="st">"tmap"</span>)</span>
<span id="cb1-11"><a href="#cb1-11"></a><span class="fu">library</span>(<span class="st">"gitcreds"</span>)</span>
<span id="cb1-12"><a href="#cb1-12"></a><span class="fu">library</span>(<span class="st">"dplyr"</span>)</span>
<span id="cb1-13"><a href="#cb1-13"></a><span class="fu">library</span>(<span class="st">"SimilarityMeasures"</span>)</span>
<span id="cb1-14"><a href="#cb1-14"></a><span class="fu">library</span>(<span class="st">"lubridate"</span>)</span>
<span id="cb1-15"><a href="#cb1-15"></a><span class="fu">library</span>(<span class="st">"plotly"</span>)</span>
<span id="cb1-16"><a href="#cb1-16"></a></span>
<span id="cb1-17"><a href="#cb1-17"></a><span class="co"># load clean data </span></span>
<span id="cb1-18"><a href="#cb1-18"></a>posmo <span class="ot">&lt;-</span> <span class="fu">read_delim</span>(<span class="st">"posmo_data/posmo_trips.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
</section>
<section id="results" class="level1" data-number="4">
<h1 data-number="4"><span class="header-section-number">4</span> RESULTS</h1>
<section id="impact-of-the-day-of-the-week" class="level2" data-number="4.1">
<h2 data-number="4.1" class="anchored" data-anchor-id="impact-of-the-day-of-the-week"><span class="header-section-number">4.1</span> Impact of the day of the week</h2>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1"></a>question1_summary <span class="ot">&lt;-</span> posmo <span class="sc">|&gt;</span> </span>
<span id="cb2-2"><a href="#cb2-2"></a>  <span class="fu">group_by</span>(day_week, transport_mode) <span class="sc">|&gt;</span> </span>
<span id="cb2-3"><a href="#cb2-3"></a>  <span class="fu">summarise</span>(<span class="at">dis_mean =</span> <span class="fu">mean</span>(trip_dis, <span class="at">na.rm =</span> T),</span>
<span id="cb2-4"><a href="#cb2-4"></a>            <span class="at">speed_mean =</span> <span class="fu">mean</span>(trip_speed, <span class="at">na.rm =</span> T),</span>
<span id="cb2-5"><a href="#cb2-5"></a>            <span class="at">dur_mean =</span> <span class="fu">mean</span>(trip_duration, <span class="at">na.rm =</span> T)) <span class="sc">|&gt;</span> </span>
<span id="cb2-6"><a href="#cb2-6"></a>  <span class="fu">mutate</span>(<span class="at">perc_dis =</span> dis_mean<span class="sc">/</span><span class="fu">sum</span>(dis_mean)<span class="sc">*</span><span class="dv">100</span>,</span>
<span id="cb2-7"><a href="#cb2-7"></a>         <span class="at">perc_speed =</span> speed_mean<span class="sc">/</span><span class="fu">sum</span>(speed_mean)<span class="sc">*</span><span class="dv">100</span>,</span>
<span id="cb2-8"><a href="#cb2-8"></a>         <span class="at">perc_dur =</span> dur_mean<span class="sc">/</span><span class="fu">sum</span>(dur_mean)<span class="sc">*</span><span class="dv">100</span>)</span>
<span id="cb2-9"><a href="#cb2-9"></a></span>
<span id="cb2-10"><a href="#cb2-10"></a>question1_summary</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 14 × 8
# Groups:   day_week [2]
   day_week transport_mode dis_mean speed_mean dur_mean perc_dis perc_speed
   &lt;chr&gt;    &lt;chr&gt;             &lt;dbl&gt;      &lt;dbl&gt;    &lt;dbl&gt;    &lt;dbl&gt;      &lt;dbl&gt;
 1 weekday  Bike             19398.       715.    1.59     16.8       16.5 
 2 weekday  Bus               4487.       232.    0.955     3.90       5.36
 3 weekday  Car              19987.       803.    1.63     17.4       18.6 
 4 weekday  Horse             2831.       181.    1.41      2.46       4.18
 5 weekday  Train            29831.      1203.    1.74     25.9       27.8 
 6 weekday  Tram             34530.      1079.    1.80     30.0       24.9 
 7 weekday  Walk              4117.       116.    0.612     3.57       2.67
 8 weekend  Bike             57455.      1846.    1.81     25.2       26.0 
 9 weekend  Bus               8318.       442.    1.22      3.64       6.22
10 weekend  Car              33505.      1702.    2.99     14.7       24.0 
11 weekend  Horse            12723.       168.    1.42      5.57       2.37
12 weekend  Train            59523.      1813.    1.65     26.1       25.5 
13 weekend  Tram             52758.      1026.    2.57     23.1       14.5 
14 weekend  Walk              3983.       104.    0.542     1.74       1.46
# ℹ 1 more variable: perc_dur &lt;dbl&gt;</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1"></a>knitr<span class="sc">::</span>opts_chunk<span class="sc">$</span><span class="fu">set</span>(<span class="at">eval =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Table 1: Overview over the calculated metrics for weekends and weekdays, including the different travel modes</p>
<section id="spatial-analysis" class="level3" data-number="4.1.1">
<h3 data-number="4.1.1" class="anchored" data-anchor-id="spatial-analysis"><span class="header-section-number">4.1.1</span> Spatial Analysis</h3>
<p><em>Trip distance</em> For each travelmode we found a higher trip distance on weekends compared to weekdays. The trip distances for the travel mode “walk” have a lower mean than for other travel modes. On the other hand, the mean travel distances for “bike” are around the same range as for “car” and “train”.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1"></a>  <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb5-2"><a href="#cb5-2"></a>  <span class="fu">geom_boxplot</span>(<span class="at">data =</span> posmo, <span class="fu">aes</span>(day_week, <span class="fu">log</span>(trip_dis), <span class="at">fill =</span> day_week)) <span class="sc">+</span></span>
<span id="cb5-3"><a href="#cb5-3"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Trip Distance per Transport Mode"</span>, <span class="at">subtitle =</span> <span class="st">"Comparing Weekend vs. Weekday"</span>, <span class="at">fill =</span> <span class="st">"Day of the Week"</span>) <span class="sc">+</span></span>
<span id="cb5-4"><a href="#cb5-4"></a>  <span class="fu">ylab</span>(<span class="st">"Log Trip Distance [m]"</span>) <span class="sc">+</span></span>
<span id="cb5-5"><a href="#cb5-5"></a>  <span class="fu">xlab</span>(<span class="st">"Transport Mode"</span>) <span class="sc">+</span></span>
<span id="cb5-6"><a href="#cb5-6"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"weekday"</span> <span class="ot">=</span> <span class="st">"lavenderblush3"</span>, <span class="st">"weekend"</span> <span class="ot">=</span> <span class="st">"aquamarine3"</span>), <span class="at">labels =</span> <span class="fu">c</span>( <span class="st">"Weekday"</span>, <span class="st">"Weekend"</span>)) <span class="sc">+</span></span>
<span id="cb5-7"><a href="#cb5-7"></a>    <span class="fu">facet_wrap</span>(<span class="sc">~</span>transport_mode, <span class="at">nrow =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb5-8"><a href="#cb5-8"></a>    <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb5-9"><a href="#cb5-9"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x=</span><span class="fu">element_blank</span>())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p><em>Trip speed</em> For trip speed, the results are not as clear as for trip distance, but there is a tendency of trip speed being higher on the weekends, than during the week. Again we find the mean trip speed of “bike” being in a similar range as “car” and “train”, whereas “bus” conforms to “horse”.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1"></a><span class="fu">ggplot</span>(posmo, <span class="fu">aes</span>(day_week, <span class="fu">log</span>(trip_speed), <span class="at">fill =</span> day_week)) <span class="sc">+</span></span>
<span id="cb6-2"><a href="#cb6-2"></a>  <span class="fu">geom_boxplot</span>() <span class="sc">+</span></span>
<span id="cb6-3"><a href="#cb6-3"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Trip Speed per Transport Mode"</span>, <span class="at">subtitle =</span> <span class="st">"Comparing Weekend vs. Weekday"</span>, <span class="at">fill =</span> <span class="st">"Day of the Week"</span>) <span class="sc">+</span></span>
<span id="cb6-4"><a href="#cb6-4"></a>  <span class="fu">ylab</span>(<span class="st">"Log Speed [m/s]"</span>) <span class="sc">+</span></span>
<span id="cb6-5"><a href="#cb6-5"></a>  <span class="fu">xlab</span>(<span class="st">"Transport Mode"</span>) <span class="sc">+</span></span>
<span id="cb6-6"><a href="#cb6-6"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"weekday"</span> <span class="ot">=</span> <span class="st">"lavenderblush3"</span>, <span class="st">"weekend"</span> <span class="ot">=</span> <span class="st">"aquamarine3"</span>), <span class="at">labels =</span> <span class="fu">c</span>( <span class="st">"Weekday"</span>, <span class="st">"Weekend"</span>)) <span class="sc">+</span></span>
<span id="cb6-7"><a href="#cb6-7"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>transport_mode, <span class="at">nrow =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb6-8"><a href="#cb6-8"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb6-9"><a href="#cb6-9"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x=</span><span class="fu">element_blank</span>())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="temporal-analysis" class="level3" data-number="4.1.2">
<h3 data-number="4.1.2" class="anchored" data-anchor-id="temporal-analysis"><span class="header-section-number">4.1.2</span> Temporal Analysis</h3>
<p><em>Trip duration</em> We could not find a clear result concerning trip duration between weekends and weekdays. The only tendency that can be seen, is that the mean trip duration of “walk” is lower than for all the other travel modes.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1"></a><span class="co">#| label: Boxplot comparing trip duration between weekend and weekday of travelmodes</span></span>
<span id="cb7-2"><a href="#cb7-2"></a></span>
<span id="cb7-3"><a href="#cb7-3"></a><span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb7-4"><a href="#cb7-4"></a>  <span class="fu">geom_boxplot</span>(<span class="at">data =</span> posmo, <span class="fu">aes</span>(day_week, <span class="fu">log</span>(trip_duration<span class="sc">/</span><span class="dv">60</span>), <span class="at">fill =</span> day_week)) <span class="sc">+</span></span>
<span id="cb7-5"><a href="#cb7-5"></a>   <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Trip Duration per Transport Mode"</span>, <span class="at">subtitle =</span> <span class="st">"Comparing Weekend vs. Weekday"</span>, <span class="at">fill =</span> <span class="st">"Day of the Week"</span>) <span class="sc">+</span></span>
<span id="cb7-6"><a href="#cb7-6"></a>  <span class="fu">ylab</span>(<span class="st">"Log Duration [min]"</span>) <span class="sc">+</span></span>
<span id="cb7-7"><a href="#cb7-7"></a>  <span class="fu">xlab</span>(<span class="st">"Transport Mode"</span>) <span class="sc">+</span></span>
<span id="cb7-8"><a href="#cb7-8"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"weekday"</span> <span class="ot">=</span> <span class="st">"lavenderblush3"</span>, <span class="st">"weekend"</span> <span class="ot">=</span> <span class="st">"aquamarine3"</span>), <span class="at">labels =</span> <span class="fu">c</span>( <span class="st">"Weekday"</span>, <span class="st">"Weekend"</span>)) <span class="sc">+</span></span>
<span id="cb7-9"><a href="#cb7-9"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>transport_mode, <span class="at">nrow =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb7-10"><a href="#cb7-10"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb7-11"><a href="#cb7-11"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x=</span><span class="fu">element_blank</span>())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1"></a><span class="co"># transform posmo data into an sf object </span></span>
<span id="cb8-2"><a href="#cb8-2"></a>posmo <span class="ot">&lt;-</span> <span class="fu">st_as_sf</span>(posmo, <span class="at">coords =</span> <span class="fu">c</span>(<span class="st">"X"</span>,<span class="st">"Y"</span>), <span class="at">crs =</span> <span class="dv">2056</span>) </span>
<span id="cb8-3"><a href="#cb8-3"></a></span>
<span id="cb8-4"><a href="#cb8-4"></a><span class="co"># 1. add grouping variable to the sf object</span></span>
<span id="cb8-5"><a href="#cb8-5"></a>posmo_grouped <span class="ot">&lt;-</span> <span class="fu">group_by</span>(posmo, dataset)</span>
<span id="cb8-6"><a href="#cb8-6"></a></span>
<span id="cb8-7"><a href="#cb8-7"></a><span class="co"># 2. use summarise() to "dissolve" all point into a multipoint object</span></span>
<span id="cb8-8"><a href="#cb8-8"></a>posmo_smry <span class="ot">&lt;-</span> <span class="fu">summarise</span>(posmo_grouped)</span>
<span id="cb8-9"><a href="#cb8-9"></a></span>
<span id="cb8-10"><a href="#cb8-10"></a><span class="co"># 3. run st_convex_hull()</span></span>
<span id="cb8-11"><a href="#cb8-11"></a>mcp_posmo <span class="ot">&lt;-</span> <span class="fu">st_convex_hull</span>(posmo_smry)</span>
<span id="cb8-12"><a href="#cb8-12"></a></span>
<span id="cb8-13"><a href="#cb8-13"></a></span>
<span id="cb8-14"><a href="#cb8-14"></a><span class="co"># set visual mode</span></span>
<span id="cb8-15"><a href="#cb8-15"></a><span class="fu">tmap_mode</span>(<span class="st">"view"</span>)</span>
<span id="cb8-16"><a href="#cb8-16"></a></span>
<span id="cb8-17"><a href="#cb8-17"></a><span class="co"># segmented visualisation </span></span>
<span id="cb8-18"><a href="#cb8-18"></a><span class="fu">tm_shape</span>(mcp_posmo) <span class="sc">+</span></span>
<span id="cb8-19"><a href="#cb8-19"></a>  <span class="fu">tm_fill</span>(<span class="at">col =</span> <span class="st">"dataset"</span>, <span class="at">alpha =</span> <span class="fl">0.4</span>, <span class="at">title =</span> <span class="st">"Student"</span>) <span class="sc">+</span></span>
<span id="cb8-20"><a href="#cb8-20"></a>  <span class="fu">tm_layout</span>(<span class="at">title =</span> <span class="st">"Cartographic Representation of Students travelling on Weekdays vs. Weekends"</span>) <span class="sc">+</span></span>
<span id="cb8-21"><a href="#cb8-21"></a>  <span class="fu">tm_shape</span>(mcp_posmo) <span class="sc">+</span></span>
<span id="cb8-22"><a href="#cb8-22"></a>  <span class="fu">tm_borders</span>(<span class="at">col =</span> <span class="st">"red"</span>) <span class="sc">+</span></span>
<span id="cb8-23"><a href="#cb8-23"></a>  <span class="fu">tm_shape</span>(posmo) <span class="sc">+</span></span>
<span id="cb8-24"><a href="#cb8-24"></a>  <span class="fu">tm_dots</span>(<span class="at">col =</span> <span class="st">"day_week"</span>, <span class="at">title =</span> <span class="st">"Day of the Week"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
</section>
<section id="impact-of-the-time-of-the-day" class="level2" data-number="4.2">
<h2 data-number="4.2" class="anchored" data-anchor-id="impact-of-the-time-of-the-day"><span class="header-section-number">4.2</span> Impact of the time of the day</h2>
<p>Does the time of the day compared between weekend/weekday have an influence on spatio-temporal movement patterns of students?</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1"></a><span class="co"># load clean data </span></span>
<span id="cb9-2"><a href="#cb9-2"></a>posmo <span class="ot">&lt;-</span> <span class="fu">read_delim</span>(<span class="st">"posmo_data/posmo_trips.csv"</span>)</span>
<span id="cb9-3"><a href="#cb9-3"></a></span>
<span id="cb9-4"><a href="#cb9-4"></a><span class="co"># round datetime to 1h </span></span>
<span id="cb9-5"><a href="#cb9-5"></a>posmo_round <span class="ot">&lt;-</span> posmo <span class="sc">|&gt;</span></span>
<span id="cb9-6"><a href="#cb9-6"></a>  <span class="fu">mutate</span>(<span class="at">hour =</span> lubridate<span class="sc">::</span><span class="fu">hour</span>(datetime))</span>
<span id="cb9-7"><a href="#cb9-7"></a></span>
<span id="cb9-8"><a href="#cb9-8"></a></span>
<span id="cb9-9"><a href="#cb9-9"></a><span class="co"># create dataframe, which calculates mean steplength, speed per hour over all dates</span></span>
<span id="cb9-10"><a href="#cb9-10"></a><span class="co"># here with days of the week (weekend vs. weekday)</span></span>
<span id="cb9-11"><a href="#cb9-11"></a>posmo_day <span class="ot">&lt;-</span> posmo_round <span class="sc">|&gt;</span></span>
<span id="cb9-12"><a href="#cb9-12"></a>  <span class="fu">group_by</span>(hour, day_week)<span class="sc">|&gt;</span></span>
<span id="cb9-13"><a href="#cb9-13"></a>  <span class="fu">summarise</span>(<span class="at">mean_dis =</span> <span class="fu">mean</span>(trip_dis, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb9-14"><a href="#cb9-14"></a>            <span class="at">mean_speed =</span> <span class="fu">mean</span>(trip_speed, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb9-15"><a href="#cb9-15"></a>            <span class="at">mean_duration =</span> <span class="fu">mean</span>(trip_duration, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<section id="spatial-analysis-1" class="level3" data-number="4.2.1">
<h3 data-number="4.2.1" class="anchored" data-anchor-id="spatial-analysis-1"><span class="header-section-number">4.2.1</span> Spatial Analysis</h3>
<p><em>Trip distance</em> The result for the trip distances per hour and weekday encourages the previous result of trip distance per travel mode, as both results show higher trip distances on the weekends compared to on weekdays. Otherwise the results do not show clear patterns. Maybe a slight decrease of the trip distances towards the end of the day.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1"></a><span class="co">#| label: Mean trip distance per hour of the day compared between weekend/weekday</span></span>
<span id="cb10-2"><a href="#cb10-2"></a></span>
<span id="cb10-3"><a href="#cb10-3"></a><span class="fu">ggplot</span>(posmo_day, <span class="fu">aes</span>(hour, mean_dis, <span class="at">col =</span> day_week)) <span class="sc">+</span></span>
<span id="cb10-4"><a href="#cb10-4"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb10-5"><a href="#cb10-5"></a>  <span class="fu">geom_line</span>(<span class="at">lwd =</span> <span class="fl">0.7</span>) <span class="sc">+</span></span>
<span id="cb10-6"><a href="#cb10-6"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Mean Trip Distance over 24h"</span>, <span class="at">subtitle =</span> <span class="st">"Compared between Weekend vs. Weekday"</span>, <span class="at">color =</span> <span class="st">"Day of the Week"</span>) <span class="sc">+</span></span>
<span id="cb10-7"><a href="#cb10-7"></a>  <span class="fu">scale_color_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"weekday"</span> <span class="ot">=</span> <span class="st">"mediumpurple4"</span>, <span class="st">"weekend"</span> <span class="ot">=</span> <span class="st">"aquamarine3"</span>), <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"Weekday"</span>, <span class="st">"Weekend"</span>)) <span class="sc">+</span></span>
<span id="cb10-8"><a href="#cb10-8"></a>  <span class="fu">ylab</span>(<span class="st">"Mean Distance [m]"</span>) <span class="sc">+</span></span>
<span id="cb10-9"><a href="#cb10-9"></a>  <span class="fu">xlab</span>(<span class="st">"Hour"</span>) <span class="sc">+</span></span>
<span id="cb10-10"><a href="#cb10-10"></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p><em>Trip speed</em> The pattern of a decreasing travel speed on the weekend towards the end of the day gets clearer in this result. Also, we found a higher trip speeds for weekends compared to on weekdays.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1"></a><span class="fu">ggplot</span>(posmo_day, <span class="fu">aes</span>(hour, mean_speed, <span class="at">col =</span> day_week)) <span class="sc">+</span></span>
<span id="cb11-2"><a href="#cb11-2"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb11-3"><a href="#cb11-3"></a>  <span class="fu">geom_line</span>(<span class="at">lwd =</span> <span class="fl">0.7</span>) <span class="sc">+</span></span>
<span id="cb11-4"><a href="#cb11-4"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Mean Speed over 24h"</span>, <span class="at">subtitle =</span> <span class="st">"Compared between Weekend vs. Weekday"</span>, <span class="at">color =</span> <span class="st">"Day of the Week"</span>) <span class="sc">+</span> </span>
<span id="cb11-5"><a href="#cb11-5"></a>  <span class="fu">scale_color_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"weekday"</span> <span class="ot">=</span> <span class="st">"mediumpurple4"</span>, <span class="st">"weekend"</span> <span class="ot">=</span> <span class="st">"aquamarine3"</span>), <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"Weekday"</span>, <span class="st">"Weekend"</span>))<span class="sc">+</span></span>
<span id="cb11-6"><a href="#cb11-6"></a>  <span class="fu">ylab</span>(<span class="st">"Mean Speed [m/s]"</span>) <span class="sc">+</span></span>
<span id="cb11-7"><a href="#cb11-7"></a>  <span class="fu">xlab</span>(<span class="st">"Hour"</span>) <span class="sc">+</span></span>
<span id="cb11-8"><a href="#cb11-8"></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="temproal-analysis" class="level3" data-number="4.2.2">
<h3 data-number="4.2.2" class="anchored" data-anchor-id="temproal-analysis"><span class="header-section-number">4.2.2</span> Temproal Analysis</h3>
<p><em>Trip duration</em> The trip duration seems to rise slightly on both weekends and weekdays towards the end of the day. Otherwise we could not detect any pattern in this result.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1"></a><span class="fu">ggplot</span>(posmo_day, <span class="fu">aes</span>(hour, mean_duration<span class="sc">/</span><span class="dv">60</span>, <span class="at">col =</span> day_week)) <span class="sc">+</span></span>
<span id="cb12-2"><a href="#cb12-2"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb12-3"><a href="#cb12-3"></a>    <span class="fu">geom_line</span>(<span class="at">lwd =</span> <span class="fl">0.7</span>) <span class="sc">+</span></span>
<span id="cb12-4"><a href="#cb12-4"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Mean Trip Duration over 24h"</span>, <span class="at">subtitle =</span> <span class="st">"Compared between Weekend vs. Weekday"</span>, <span class="at">color =</span> <span class="st">"Day of the Week"</span>) <span class="sc">+</span></span>
<span id="cb12-5"><a href="#cb12-5"></a>  <span class="fu">ylab</span>(<span class="st">"Mean Duration [min]"</span>) <span class="sc">+</span></span>
<span id="cb12-6"><a href="#cb12-6"></a>  <span class="fu">xlab</span>(<span class="st">"Hour"</span>) <span class="sc">+</span></span>
<span id="cb12-7"><a href="#cb12-7"></a>  <span class="fu">scale_color_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"weekday"</span> <span class="ot">=</span> <span class="st">"mediumpurple4"</span>, <span class="st">"weekend"</span> <span class="ot">=</span> <span class="st">"aquamarine3"</span>), <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"Weekday"</span>, <span class="st">"Weekend"</span>)) <span class="sc">+</span></span>
<span id="cb12-8"><a href="#cb12-8"></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
</section>
<section id="impact-of-precipitation" class="level2" data-number="4.3">
<h2 data-number="4.3" class="anchored" data-anchor-id="impact-of-precipitation"><span class="header-section-number">4.3</span> Impact of precipitation</h2>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1"></a><span class="co">#load clean data</span></span>
<span id="cb13-2"><a href="#cb13-2"></a>posmo <span class="ot">&lt;-</span> <span class="fu">read_delim</span>(<span class="st">"posmo_data/posmo_trips.csv"</span>)</span>
<span id="cb13-3"><a href="#cb13-3"></a></span>
<span id="cb13-4"><a href="#cb13-4"></a>question2_summary <span class="ot">&lt;-</span> posmo <span class="sc">|&gt;</span> </span>
<span id="cb13-5"><a href="#cb13-5"></a>  <span class="fu">group_by</span>(rain_day, transport_mode) <span class="sc">|&gt;</span> </span>
<span id="cb13-6"><a href="#cb13-6"></a>  <span class="fu">summarise</span>(<span class="at">dis_mean =</span> <span class="fu">mean</span>(trip_dis, <span class="at">na.rm =</span> T),</span>
<span id="cb13-7"><a href="#cb13-7"></a>            <span class="at">speed_mean =</span> <span class="fu">mean</span>(trip_speed, <span class="at">na.rm =</span> T),</span>
<span id="cb13-8"><a href="#cb13-8"></a>            <span class="at">dur_mean =</span> <span class="fu">mean</span>(trip_duration, <span class="at">na.rm =</span> T)) <span class="sc">|&gt;</span> </span>
<span id="cb13-9"><a href="#cb13-9"></a>  <span class="fu">mutate</span>(<span class="at">perc_dis =</span> dis_mean<span class="sc">/</span><span class="fu">sum</span>(dis_mean)<span class="sc">*</span><span class="dv">100</span>,</span>
<span id="cb13-10"><a href="#cb13-10"></a>         <span class="at">perc_speed =</span> speed_mean<span class="sc">/</span><span class="fu">sum</span>(speed_mean)<span class="sc">*</span><span class="dv">100</span>,</span>
<span id="cb13-11"><a href="#cb13-11"></a>         <span class="at">perc_dur =</span> dur_mean<span class="sc">/</span><span class="fu">sum</span>(dur_mean)<span class="sc">*</span><span class="dv">100</span>) <span class="sc">|&gt;</span></span>
<span id="cb13-12"><a href="#cb13-12"></a>  <span class="fu">subset</span>(rain_day <span class="sc">==</span> <span class="st">"rain"</span>)</span>
<span id="cb13-13"><a href="#cb13-13"></a></span>
<span id="cb13-14"><a href="#cb13-14"></a>question2_summary</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Table 2: Overview over calculated metrics for weekday/weekend including the precipitation data</p>
<section id="spatial-analysis-2" class="level3" data-number="4.3.1">
<h3 data-number="4.3.1" class="anchored" data-anchor-id="spatial-analysis-2"><span class="header-section-number">4.3.1</span> Spatial Analysis</h3>
<p>Precipitation reduced trip distance by bike, foot, bus and car, while distance was higher for travel modes like train and tram. Rain had almost no effect on trip distance when travelling by horse. Although, travel distances are impacted by precipitation, the effect is only marginal.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1"></a><span class="co">#| label: mean trip distance depending on precipitation</span></span>
<span id="cb14-2"><a href="#cb14-2"></a></span>
<span id="cb14-3"><a href="#cb14-3"></a><span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb14-4"><a href="#cb14-4"></a>  <span class="fu">geom_boxplot</span>(<span class="at">data =</span> posmo, <span class="fu">aes</span>(rain_day, <span class="fu">log</span>(trip_dis), <span class="at">fill =</span> rain_day)) <span class="sc">+</span></span>
<span id="cb14-5"><a href="#cb14-5"></a>    <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Trip Distance per Transport Mode"</span>, <span class="at">subtitle =</span> <span class="st">"Comparing Precipitation vs. no Precipitation"</span>, <span class="at">fill =</span> <span class="st">"Precipitation"</span>) <span class="sc">+</span></span>
<span id="cb14-6"><a href="#cb14-6"></a>  <span class="fu">ylab</span>(<span class="st">"Log Distance [m]"</span>) <span class="sc">+</span></span>
<span id="cb14-7"><a href="#cb14-7"></a>  <span class="fu">xlab</span>(<span class="st">"Transport Mode"</span>) <span class="sc">+</span></span>
<span id="cb14-8"><a href="#cb14-8"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"rain"</span> <span class="ot">=</span> <span class="st">"lavenderblush3"</span>, <span class="st">"no_rain"</span> <span class="ot">=</span> <span class="st">"aquamarine3"</span>), <span class="at">labels =</span> <span class="fu">c</span>( <span class="st">"Precipitation"</span>, <span class="st">"No Precipitation"</span>)) <span class="sc">+</span></span>
<span id="cb14-9"><a href="#cb14-9"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>transport_mode, <span class="at">nrow =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb14-10"><a href="#cb14-10"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb14-11"><a href="#cb14-11"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x=</span><span class="fu">element_blank</span>())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Speed at high precipitation is lower when travelling by bike, foot, bus and car, while for travel modes such as train and tram speed was higher. Travelling by horse was effected insignificantly by precipitation. Although, travel speeds are impacted by precipitation, the effect is only marginal.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1"></a><span class="fu">ggplot</span>(posmo, <span class="fu">aes</span>(rain_day, <span class="fu">log</span>(trip_speed), <span class="at">fill =</span> rain_day)) <span class="sc">+</span></span>
<span id="cb15-2"><a href="#cb15-2"></a>  <span class="fu">geom_boxplot</span>() <span class="sc">+</span></span>
<span id="cb15-3"><a href="#cb15-3"></a>   <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Trip Speed per Transport Mode"</span>, <span class="at">subtitle =</span> <span class="st">"Comparing Precipitation vs. no Precipitation"</span>, <span class="at">fill =</span> <span class="st">"Precipitation"</span>) <span class="sc">+</span></span>
<span id="cb15-4"><a href="#cb15-4"></a>  <span class="fu">ylab</span>(<span class="st">"Log Speed [m/s]"</span>) <span class="sc">+</span></span>
<span id="cb15-5"><a href="#cb15-5"></a>  <span class="fu">xlab</span>(<span class="st">"Transport Mode"</span>) <span class="sc">+</span></span>
<span id="cb15-6"><a href="#cb15-6"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"rain"</span> <span class="ot">=</span> <span class="st">"lavenderblush3"</span>, <span class="st">"no_rain"</span> <span class="ot">=</span> <span class="st">"aquamarine3"</span>), <span class="at">labels =</span> <span class="fu">c</span>( <span class="st">"Precipitation"</span>, <span class="st">"No Precipitation"</span>)) <span class="sc">+</span></span>
<span id="cb15-7"><a href="#cb15-7"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>transport_mode, <span class="at">nrow =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb15-8"><a href="#cb15-8"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb15-9"><a href="#cb15-9"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x=</span><span class="fu">element_blank</span>())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="temporal-analysis-1" class="level3" data-number="4.3.2">
<h3 data-number="4.3.2" class="anchored" data-anchor-id="temporal-analysis-1"><span class="header-section-number">4.3.2</span> Temporal Analysis</h3>
<p>The duration of trips was shorter under heavy precipitation by bike, bus and car, while students travelled longer by train and tram. Considering travelling by horse and foot, precipitation had only insignificant effects.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1"></a><span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb16-2"><a href="#cb16-2"></a>  <span class="fu">geom_boxplot</span>(<span class="at">data =</span> posmo, <span class="fu">aes</span>(rain_day, trip_duration<span class="sc">/</span><span class="dv">60</span>, <span class="at">fill =</span> rain_day)) <span class="sc">+</span></span>
<span id="cb16-3"><a href="#cb16-3"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Trip Duration per Transport Mode"</span>, <span class="at">subtitle =</span> <span class="st">"Comparing Precipitation vs. no Precipitation"</span>, <span class="at">fill =</span> <span class="st">"Precipitation"</span>) <span class="sc">+</span></span>
<span id="cb16-4"><a href="#cb16-4"></a>  <span class="fu">ylab</span>(<span class="st">"Duration [min]"</span>) <span class="sc">+</span></span>
<span id="cb16-5"><a href="#cb16-5"></a>  <span class="fu">xlab</span>(<span class="st">"Transport Mode"</span>) <span class="sc">+</span></span>
<span id="cb16-6"><a href="#cb16-6"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"rain"</span> <span class="ot">=</span> <span class="st">"lavenderblush3"</span>, <span class="st">"no_rain"</span> <span class="ot">=</span> <span class="st">"aquamarine3"</span>), <span class="at">labels =</span> <span class="fu">c</span>( <span class="st">"Precipitation"</span>, <span class="st">"No Precipitation"</span>)) <span class="sc">+</span></span>
<span id="cb16-7"><a href="#cb16-7"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>transport_mode, <span class="at">nrow =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb16-8"><a href="#cb16-8"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb16-9"><a href="#cb16-9"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x=</span><span class="fu">element_blank</span>())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1"></a><span class="co"># load weather stations </span></span>
<span id="cb17-2"><a href="#cb17-2"></a>legend <span class="ot">&lt;-</span> <span class="fu">read_delim</span>(<span class="st">"data/weather_legend.csv"</span>)</span>
<span id="cb17-3"><a href="#cb17-3"></a></span>
<span id="cb17-4"><a href="#cb17-4"></a><span class="co"># create sf object of joined data</span></span>
<span id="cb17-5"><a href="#cb17-5"></a>weather <span class="ot">&lt;-</span> <span class="fu">st_as_sf</span>(legend, <span class="at">coords =</span> <span class="fu">c</span>(<span class="st">"E"</span>,<span class="st">"N"</span>), <span class="at">crs =</span> <span class="dv">2056</span>)</span>
<span id="cb17-6"><a href="#cb17-6"></a></span>
<span id="cb17-7"><a href="#cb17-7"></a><span class="co"># transform posmo data into an sf object </span></span>
<span id="cb17-8"><a href="#cb17-8"></a>posmo <span class="ot">&lt;-</span> <span class="fu">st_as_sf</span>(posmo, <span class="at">coords =</span> <span class="fu">c</span>(<span class="st">"X"</span>,<span class="st">"Y"</span>), <span class="at">crs =</span> <span class="dv">2056</span>) </span>
<span id="cb17-9"><a href="#cb17-9"></a></span>
<span id="cb17-10"><a href="#cb17-10"></a><span class="co"># 1. add grouping variable to the sf object</span></span>
<span id="cb17-11"><a href="#cb17-11"></a>posmo_grouped <span class="ot">&lt;-</span> <span class="fu">group_by</span>(posmo, dataset)</span>
<span id="cb17-12"><a href="#cb17-12"></a></span>
<span id="cb17-13"><a href="#cb17-13"></a><span class="co"># 2. use summarise() to "dissolve" all point into a multipoint object</span></span>
<span id="cb17-14"><a href="#cb17-14"></a>posmo_smry <span class="ot">&lt;-</span> <span class="fu">summarise</span>(posmo_grouped)</span>
<span id="cb17-15"><a href="#cb17-15"></a></span>
<span id="cb17-16"><a href="#cb17-16"></a><span class="co"># 3. run st_convex_hull()</span></span>
<span id="cb17-17"><a href="#cb17-17"></a>mcp_posmo <span class="ot">&lt;-</span> <span class="fu">st_convex_hull</span>(posmo_smry)</span>
<span id="cb17-18"><a href="#cb17-18"></a></span>
<span id="cb17-19"><a href="#cb17-19"></a><span class="co">#choose map mode</span></span>
<span id="cb17-20"><a href="#cb17-20"></a><span class="fu">tmap_mode</span>(<span class="st">"view"</span>)</span>
<span id="cb17-21"><a href="#cb17-21"></a></span>
<span id="cb17-22"><a href="#cb17-22"></a><span class="co"># segmented visualisation </span></span>
<span id="cb17-23"><a href="#cb17-23"></a><span class="fu">tm_shape</span>(mcp_posmo) <span class="sc">+</span></span>
<span id="cb17-24"><a href="#cb17-24"></a>  <span class="fu">tm_fill</span>(<span class="at">col =</span> <span class="st">"dataset"</span>, <span class="at">alpha =</span> <span class="fl">0.4</span>, <span class="at">title =</span> <span class="st">"Student"</span>) <span class="sc">+</span></span>
<span id="cb17-25"><a href="#cb17-25"></a>  <span class="fu">tm_layout</span>(<span class="at">title =</span> <span class="st">"Cartographic Representation of Students travelling with/without Precipitation"</span>) <span class="sc">+</span></span>
<span id="cb17-26"><a href="#cb17-26"></a>  <span class="fu">tm_shape</span>(mcp_posmo) <span class="sc">+</span></span>
<span id="cb17-27"><a href="#cb17-27"></a>  <span class="fu">tm_borders</span>(<span class="at">col =</span> <span class="st">"red"</span>) <span class="sc">+</span></span>
<span id="cb17-28"><a href="#cb17-28"></a>  <span class="fu">tm_shape</span>(posmo) <span class="sc">+</span></span>
<span id="cb17-29"><a href="#cb17-29"></a>  <span class="fu">tm_dots</span>(<span class="at">col =</span> <span class="st">"rain_day"</span>, <span class="at">title =</span> <span class="st">"Precipitation"</span>) <span class="sc">+</span></span>
<span id="cb17-30"><a href="#cb17-30"></a>  <span class="fu">tm_shape</span>(weather) <span class="sc">+</span></span>
<span id="cb17-31"><a href="#cb17-31"></a>  <span class="fu">tm_dots</span>(<span class="at">title =</span> <span class="st">"weather Stations"</span>)</span>
<span id="cb17-32"><a href="#cb17-32"></a></span>
<span id="cb17-33"><a href="#cb17-33"></a>posmo <span class="sc">|&gt;</span></span>
<span id="cb17-34"><a href="#cb17-34"></a>  <span class="fu">group_by</span>(rain_day, day_week, date) <span class="sc">|&gt;</span></span>
<span id="cb17-35"><a href="#cb17-35"></a>  <span class="fu">summarise</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
</section>
</section>
<section id="discussion" class="level1" data-number="5">
<h1 data-number="5"><span class="header-section-number">5</span> DISCUSSION</h1>
<p>It is to be noted, that we investigated spatio-temporal movement patterns of students, which cannot be generalized, as it was shown that sociodemographics and travel behavior of university students differ from the general population and between students living on or off campus, as well as students attending urban or suburban campuses (Khattak et al., 2011). Travel behaviour is significantly impacted by age, income and life stage and these socio-demographic variables act in different ways to constrain or free types of travel behaviour (Kattiyapornpong &amp; Miller, 2009).</p>
<p>In the course of this project it became clear, that the Posmo App comes with severe uncertainties and tracking errors. Quantifying those uncertainties would be subject to another semester project in itself, which is why we assumed that the data we used was correct.</p>
<section id="days-of-the-week-patterns" class="level2" data-number="5.1">
<h2 data-number="5.1" class="anchored" data-anchor-id="days-of-the-week-patterns"><span class="header-section-number">5.1</span> Days of the Week Patterns</h2>
</section>
<section id="influence-of-the-time-of-the-day" class="level2" data-number="5.2">
<h2 data-number="5.2" class="anchored" data-anchor-id="influence-of-the-time-of-the-day"><span class="header-section-number">5.2</span> Influence of the Time of the Day</h2>
</section>
<section id="precipiation-patterns" class="level2" data-number="5.3">
<h2 data-number="5.3" class="anchored" data-anchor-id="precipiation-patterns"><span class="header-section-number">5.3</span> Precipiation Patterns</h2>
<p>Precipitation impacted spatio-temporal movement patterns of students only in a marginal way, indicating no significant relationship between precipitation and movement patterns concerning several travel modes.</p>
<p>However, although only insignificant effects could be shown, some patterns were emerging as the movement (distance, speed and duration) of students was reduced under heavy rain when travelling by bike, bus and car, while it was increased when travelling by train and tram. This results are in contrast to Brum-Bastos et al.&nbsp;(2018), where they found a general trend of more vehicular use under heavy rain, while in our study we found e general decrease in the use of cars.</p>
<p>By foot it could only be shown that speed and distance were lower under heavy rain, while the duration was not impacted by precipitation patterns. In contrast to our finding, Brum-Bastos et al.&nbsp;(2018) found an overall decrease in walking during rain. The travel mode by horse showed no response in movement to precipitation.</p>
<p>It was shown, that when travel destinations are obligatory (e.g., work, lectures) people change their travel mode more likely under heavy rain, meaning that they drive to work instead of walk. However, if destinations are linked to leisure activities, people more likely just postpone the task instead of changing their travel mode (Connolly, 2008).</p>
<p>Additionally, during the week a decrease in public transport was observed under heavy rain by Brum-Bastos et al.&nbsp;(2018). This finding are in contrast to our results, where the use of some public transport means (train and tram) was increased under heavy rain, although we did not include the consideration of the days of the week.</p>
<p>However, it is to be said, that those marginal patterns found in our data is not indicative, as we only had a sample size of 5 students and investigated 11 days, from which 8 days were considered having heavy rainfall. Additionally, the results need to be interpreted with caution, as in fig.&nbsp;11 it is shown, that for some trajectory points weather stations are rather far away to serve as indication for precipitation.</p>
</section>
</section>
<section id="sources" class="level1" data-number="6">
<h1 data-number="6"><span class="header-section-number">6</span> SOURCES</h1>
<section id="data-1" class="level2" data-number="6.1">
<h2 data-number="6.1" class="anchored" data-anchor-id="data-1"><span class="header-section-number">6.1</span> Data</h2>
<ul>
<li><strong>Trajectory data of students:</strong> Posmo App</li>
<li><strong>Weather data:</strong> https://gate.meteoswiss.ch/idaweb</li>
</ul>
</section>
<section id="literature" class="level2" data-number="6.2">
<h2 data-number="6.2" class="anchored" data-anchor-id="literature"><span class="header-section-number">6.2</span> Literature</h2>
<ul>
<li><p>Brum-Bastos, V. S., Long, J. A., &amp; Demšar, U. (2018). Weather effects on human mobility: A study using multi-channel sequence analysis. Computers, Environment and Urban Systems, 71, 131–152. https://doi.org/10.1016/j.compenvurbsys.2018.05.004</p></li>
<li><p>Bundesamt für Statistik. (2021). Pendlermobilität. Bundesamt für Statistik. https://www.bfs.admin.ch/bfs/de/home/statistiken/mobilitaet-verkehr/personenverkehr/pendlermobilitaet.html</p></li>
<li><p>Bundesamt für Statistik. (2023, March 28). Studierende an den universitären Hochschulen: Basistabellen - 1990-2022 | Tabelle. Bundesamt für Statistik. https://www.bfs.admin.ch/asset/de/24345359</p></li>
<li><p>Connolly, M. (2008). Here Comes the Rain Again: Weather and the Intertemporal Substitution of Leisure. Source Journal of Labor Economics Journal of Labor Economics, 26(1), 73–100. https://doi.org/10.1086/522067</p></li>
<li><p>Kattiyapornpong, U., &amp; Miller, K. E. (2009). Socio‐demographic constraints to travel behavior. International Journal of Culture, Tourism and Hospitality Research, 3(1), 81–94. https://doi.org/10.1108/17506180910940360</p></li>
<li><p>Khattak, A., Wang, X., Son, S., &amp; Agnello, P. (2011). Travel by University Students in Virginia: Is This Travel Different from Travel by the General Population? Transportation Research Record: Journal of the Transportation Research Board, 2255(1). https://doi.org/10.3141/2255-15</p></li>
<li><p>Kyaing, K., Lwin, K., &amp; Sekimoto, Y. (2017). Human mobility patterns for different regions in Myanmar based on CDRs data. IPTEK Journal of Proceedings Series, 3(6).</p></li>
<li><p>Liu, X., Sun, L., Sun, Q., &amp; Gao, G. (2020). Spatial Variation of Taxi Demand Using GPS Trajectories and POI Data. Journal of Advanced Transportation, 2020, e7621576. https://doi.org/10.1155/2020/7621576</p></li>
<li><p>MeteoSwiss. (n.d.). Precipitation. Federal Office of Meterology and Climatology MeteoSwiss. Retrieved 19 June 2023, from https://www.meteoschweiz.admin.ch/wetter/wetter-und-klima-von-a-bis-z/niederschlag.html</p></li>
<li><p>Sathishkumar, Cho, Y., &amp; Jangwoo, Park. (2020). Seoul bike trip duration prediction using data mining techniques. IET Intelligent Transport Systems, 14(11), 1465–1474. https://doi.org/10.1049/iet-its.2019.0796</p></li>
</ul>
<!-- -->

</section>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  const viewSource = window.document.getElementById('quarto-view-source') ||
                     window.document.getElementById('quarto-code-tools-source');
  if (viewSource) {
    const sourceUrl = viewSource.getAttribute("data-quarto-source-url");
    viewSource.addEventListener("click", function(e) {
      if (sourceUrl) {
        // rstudio viewer pane
        if (/\bcapabilities=\b/.test(window.location)) {
          window.open(sourceUrl);
        } else {
          window.location.href = sourceUrl;
        }
      } else {
        const modal = new bootstrap.Modal(document.getElementById('quarto-embedded-source-code-modal'));
        modal.show();
      }
      return false;
    });
  }
  function toggleCodeHandler(show) {
    return function(e) {
      const detailsSrc = window.document.querySelectorAll(".cell > details > .sourceCode");
      for (let i=0; i<detailsSrc.length; i++) {
        const details = detailsSrc[i].parentElement;
        if (show) {
          details.open = true;
        } else {
          details.removeAttribute("open");
        }
      }
      const cellCodeDivs = window.document.querySelectorAll(".cell > .sourceCode");
      const fromCls = show ? "hidden" : "unhidden";
      const toCls = show ? "unhidden" : "hidden";
      for (let i=0; i<cellCodeDivs.length; i++) {
        const codeDiv = cellCodeDivs[i];
        if (codeDiv.classList.contains(fromCls)) {
          codeDiv.classList.remove(fromCls);
          codeDiv.classList.add(toCls);
        } 
      }
      return false;
    }
  }
  const hideAllCode = window.document.getElementById("quarto-hide-all-code");
  if (hideAllCode) {
    hideAllCode.addEventListener("click", toggleCodeHandler(false));
  }
  const showAllCode = window.document.getElementById("quarto-show-all-code");
  if (showAllCode) {
    showAllCode.addEventListener("click", toggleCodeHandler(true));
  }
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script><div class="modal fade" id="quarto-embedded-source-code-modal" tabindex="-1" aria-labelledby="quarto-embedded-source-code-modal-label" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable"><div class="modal-content"><div class="modal-header"><h5 class="modal-title" id="quarto-embedded-source-code-modal-label">Source Code</h5><button class="btn-close" data-bs-dismiss="modal"></button></div><div class="modal-body"><div class="">
<div class="sourceCode" id="cb18" data-shortcodes="false"><pre class="sourceCode numberSource markdown number-lines code-with-copy"><code class="sourceCode markdown"><span id="cb18-1"><a href="#cb18-1"></a><span class="co">---</span></span>
<span id="cb18-2"><a href="#cb18-2"></a><span class="an">title:</span><span class="co"> "Effects of three environmental factors on spatio-temporal movement patterns of students"</span></span>
<span id="cb18-3"><a href="#cb18-3"></a><span class="an">subtitle:</span><span class="co"> "Project for Patterns and Trends in Environmental Data - Computational Movement Analysis"</span></span>
<span id="cb18-4"><a href="#cb18-4"></a><span class="an">author:</span><span class="co"> "Mirjam Scheib &amp; Miriam Steinhauer"</span></span>
<span id="cb18-5"><a href="#cb18-5"></a><span class="an">date:</span><span class="co"> "07/02/2023"</span></span>
<span id="cb18-6"><a href="#cb18-6"></a><span class="an">format:</span></span>
<span id="cb18-7"><a href="#cb18-7"></a><span class="co">  html:</span></span>
<span id="cb18-8"><a href="#cb18-8"></a><span class="co">    code-fold: true</span></span>
<span id="cb18-9"><a href="#cb18-9"></a><span class="co">    code-tools: true</span></span>
<span id="cb18-10"><a href="#cb18-10"></a><span class="co">    code-line-numbers: true</span></span>
<span id="cb18-11"><a href="#cb18-11"></a><span class="an">highlight-style:</span><span class="co"> pygments</span></span>
<span id="cb18-12"><a href="#cb18-12"></a><span class="an">table-of-contents:</span><span class="co"> true</span></span>
<span id="cb18-13"><a href="#cb18-13"></a><span class="an">number-sections:</span><span class="co"> true</span></span>
<span id="cb18-14"><a href="#cb18-14"></a><span class="an">execute:</span></span>
<span id="cb18-15"><a href="#cb18-15"></a><span class="co">  echo: true</span></span>
<span id="cb18-16"><a href="#cb18-16"></a><span class="co">  message: false</span></span>
<span id="cb18-17"><a href="#cb18-17"></a><span class="co">  eval: true</span></span>
<span id="cb18-18"><a href="#cb18-18"></a><span class="co">  warning: false</span></span>
<span id="cb18-19"><a href="#cb18-19"></a><span class="an">editor:</span><span class="co"> </span></span>
<span id="cb18-20"><a href="#cb18-20"></a><span class="co">  markdown: </span></span>
<span id="cb18-21"><a href="#cb18-21"></a><span class="co">    wrap: 72</span></span>
<span id="cb18-22"><a href="#cb18-22"></a><span class="co">---</span></span>
<span id="cb18-23"><a href="#cb18-23"></a></span>
<span id="cb18-24"><a href="#cb18-24"></a><span class="fu"># To Do's im Code</span></span>
<span id="cb18-25"><a href="#cb18-25"></a><span class="ss">- </span>Bitte die Plots die ich noch nicht habe noch beschriften oder verbessern, es fehlen Beschriftungen/Titel für die Tables und für die tmaps, da bin ich unsicher (@Mirj)</span>
<span id="cb18-26"><a href="#cb18-26"></a><span class="ss">- </span>Rendern (Miri)</span>
<span id="cb18-27"><a href="#cb18-27"></a><span class="ss">- </span>Summary tables nötig? bzw. wie am besten darstellen </span>
<span id="cb18-28"><a href="#cb18-28"></a><span class="ss">- </span>Bei results: Duration, Speed, Distance aus Text nehmen</span>
<span id="cb18-29"><a href="#cb18-29"></a><span class="ss">- </span>Table beschriftungen? Nicht gleich wie figure beschriftung? </span>
<span id="cb18-30"><a href="#cb18-30"></a></span>
<span id="cb18-31"><a href="#cb18-31"></a><span class="fu"># BACKGROUND AND RESEARCH QUESTIONS</span></span>
<span id="cb18-32"><a href="#cb18-32"></a></span>
<span id="cb18-33"><a href="#cb18-33"></a>It is known that several factors like the weather condition (Brum-Bastos et al., 2018), the day of the week and time of the day (Liu et al., 2020; Sathishkumar et al., 2020) influence spatio-temporal movement patterns of people. There are several study’s investigating movement patterns of people in urban areas with the aim to improve the distribution of facilities and the provisioning of transportation services, as well as to manage traffic peaks (Kyaing et al., 2017; Liu et al., 2020). Nevertheless, most studies do not focus on specific social groups (e.g. workforce, students, pensioners), that might follow distinct spatio-temporal patterns, showing a potential demand for a specific adaption of infrastructure. The canton of Zurich accommodates the most students in Switzerland, with numbers continuing to rise (Bundesamt für Statistik, 2023). Additionally, students and apprentices (from the age of  15 years) make up 39 % of the public transport commuter mass, which is why knowledge of spatio-temporal patterns of students could help to manage train and other public transport infrastructure (Bundesamt für Statistik, 2021). Therefore, we want to investigate the influence of three environmental factors on spatio-temporal movement patterns of students, aiming to answer the following research questions:  </span>
<span id="cb18-34"><a href="#cb18-34"></a></span>
<span id="cb18-35"><a href="#cb18-35"></a><span class="ss">1.  </span>Does the day of the week (weekend vs. workday) have an influence on the spatio-temporal movement patterns of students? </span>
<span id="cb18-36"><a href="#cb18-36"></a><span class="ss">2.  </span>Does the time of the day compared between weekend and workday have an influence on the spatio-temporal movement patterns of students? </span>
<span id="cb18-37"><a href="#cb18-37"></a><span class="ss">3.  </span>Does precipitation has an impact the spatio-temporal movement patterns of students?</span>
<span id="cb18-38"><a href="#cb18-38"></a></span>
<span id="cb18-39"><a href="#cb18-39"></a></span>
<span id="cb18-40"><a href="#cb18-40"></a><span class="fu"># DATA &amp; METHODS</span></span>
<span id="cb18-41"><a href="#cb18-41"></a></span>
<span id="cb18-42"><a href="#cb18-42"></a><span class="fu">## Data </span></span>
<span id="cb18-43"><a href="#cb18-43"></a></span>
<span id="cb18-44"><a href="#cb18-44"></a>Primary data used in this project work consisted of trajectory data from 11 students collected with the Posmo App containing the following attributes:</span>
<span id="cb18-45"><a href="#cb18-45"></a></span>
<span id="cb18-46"><a href="#cb18-46"></a><span class="ss">-   </span>**user_id:** entails the individual ID of the user (= student) (type: character)</span>
<span id="cb18-47"><a href="#cb18-47"></a><span class="ss">-   </span>**datetime:** date and time when a position of a user is tracked (type: datetime)</span>
<span id="cb18-48"><a href="#cb18-48"></a><span class="ss">-   </span>**weekday:** abbreviated name of the weekday (e.g. Mon = Monday) (type: character)</span>
<span id="cb18-49"><a href="#cb18-49"></a><span class="ss">-   </span>**place_name:** names of a place, in which a user is at a specific time (type: character)</span>
<span id="cb18-50"><a href="#cb18-50"></a><span class="ss">-   </span>**transport_mode:** the type of transport used by a user (e.g. car, bicycle, foot, train, other....) (type: character)</span>
<span id="cb18-51"><a href="#cb18-51"></a><span class="ss">-   </span>**lon_x/lat_y:** coordinates of the user at a specific time (type: numeric)</span>
<span id="cb18-52"><a href="#cb18-52"></a></span>
<span id="cb18-53"><a href="#cb18-53"></a>Additionally, weather data from 84 stations in the canton of Zurich and bordering cantons (SZ, AG, ZG, TG, SG), consisting of measurements every 10 minutes was used to investigate the influence of precipitation on spatio-temporal movement patterns of students. </span>
<span id="cb18-54"><a href="#cb18-54"></a></span>
<span id="cb18-55"><a href="#cb18-55"></a></span>
<span id="cb18-56"><a href="#cb18-56"></a><span class="fu">## Pre-processing</span></span>
<span id="cb18-57"><a href="#cb18-57"></a></span>
<span id="cb18-58"><a href="#cb18-58"></a>For the analysis first we reviewed data consistency by creating a point plot, where every tracking point in time (x-axis) was displayed per user (y-axis). Five users needed to be eliminated due to insufficient tracking point coverage in time. Additionally, the dataset was cut into a specific timeframe (28.04.2023 - 09.05.2023) covering 11 days to ensure sufficient overlap of tracking points between users in time. Additionally, travel modes consisting of “Airplane”, “Funicular” and “Other1” were removed, as they presented either too specific or unspecific travel modes to be of interest in the subsequent analysis. </span>
<span id="cb18-59"><a href="#cb18-59"></a></span>
<span id="cb18-60"><a href="#cb18-60"></a>Furthermore, all convenience variables needed for the analysis were annotated in our pre-processing steps. First, it was discriminated between weekend (Sa – So) and weekdays (Mo – Fr). Additionally, to discriminate between days with high and low/no precipitation we calculated the nearest weather station for every trajectory point and annotated the precipitation data at the matching time to our dataset. We considered a precipitation of &gt; 20 mm per 24 hours as a rainy day, as MeteoSwiss (n.d.) defines a precipitation from 10 – 30 mm per 24 hours as high intensity precipitation. </span>
<span id="cb18-61"><a href="#cb18-61"></a></span>
<span id="cb18-62"><a href="#cb18-62"></a>To investigate spatio-temporal movement patterns of students in concern to environmental variables, we discriminated between static and movement segments and assigned to every moving sequence a segment ID. From this we calculated distance, speed and duration for every segment. </span>
<span id="cb18-63"><a href="#cb18-63"></a></span>
<span id="cb18-64"><a href="#cb18-64"></a>All pre-processing steps can be accessed in a separate quarto-file (Pre_Processing.qmd) in our github respiratory under the following link: https://github.com/mirjamscheib/Semester_Project.git</span>
<span id="cb18-65"><a href="#cb18-65"></a></span>
<span id="cb18-66"><a href="#cb18-66"></a><span class="fu">## Analysis</span></span>
<span id="cb18-67"><a href="#cb18-67"></a></span>
<span id="cb18-68"><a href="#cb18-68"></a>The analysis of the research questions was carried out by creating summary tables and boxplots to investigate distance, speed and duration of different travel modes comparing weekends with weekdays and precipitation with no precipitation. Additionally, line plots visualising distance, speed and duration per hour of the day comparing weekends with weekdays were carried out. Cartographic maps visualising trajectory points of students comparing weekends with weekdays and precipitation and no precipitation complement the analysis. </span>
<span id="cb18-69"><a href="#cb18-69"></a></span>
<span id="cb18-72"><a href="#cb18-72"></a><span class="in">```{r}</span></span>
<span id="cb18-73"><a href="#cb18-73"></a><span class="co">#| label: load packages and clean data</span></span>
<span id="cb18-74"><a href="#cb18-74"></a></span>
<span id="cb18-75"><a href="#cb18-75"></a><span class="co"># clear space </span></span>
<span id="cb18-76"><a href="#cb18-76"></a><span class="fu">rm</span>(<span class="at">list=</span><span class="fu">ls</span>())</span>
<span id="cb18-77"><a href="#cb18-77"></a></span>
<span id="cb18-78"><a href="#cb18-78"></a><span class="co"># load packages </span></span>
<span id="cb18-79"><a href="#cb18-79"></a><span class="fu">library</span>(<span class="st">"readr"</span>)</span>
<span id="cb18-80"><a href="#cb18-80"></a><span class="fu">library</span>(<span class="st">"dplyr"</span>)</span>
<span id="cb18-81"><a href="#cb18-81"></a><span class="fu">library</span>(<span class="st">"ggplot2"</span>)</span>
<span id="cb18-82"><a href="#cb18-82"></a><span class="fu">library</span>(<span class="st">"sf"</span>)</span>
<span id="cb18-83"><a href="#cb18-83"></a><span class="fu">library</span>(<span class="st">"terra"</span>)</span>
<span id="cb18-84"><a href="#cb18-84"></a><span class="fu">library</span>(<span class="st">"tmap"</span>)</span>
<span id="cb18-85"><a href="#cb18-85"></a><span class="fu">library</span>(<span class="st">"gitcreds"</span>)</span>
<span id="cb18-86"><a href="#cb18-86"></a><span class="fu">library</span>(<span class="st">"dplyr"</span>)</span>
<span id="cb18-87"><a href="#cb18-87"></a><span class="fu">library</span>(<span class="st">"SimilarityMeasures"</span>)</span>
<span id="cb18-88"><a href="#cb18-88"></a><span class="fu">library</span>(<span class="st">"lubridate"</span>)</span>
<span id="cb18-89"><a href="#cb18-89"></a><span class="fu">library</span>(<span class="st">"plotly"</span>)</span>
<span id="cb18-90"><a href="#cb18-90"></a></span>
<span id="cb18-91"><a href="#cb18-91"></a><span class="co"># load clean data </span></span>
<span id="cb18-92"><a href="#cb18-92"></a>posmo <span class="ot">&lt;-</span> <span class="fu">read_delim</span>(<span class="st">"posmo_data/posmo_trips.csv"</span>)</span>
<span id="cb18-93"><a href="#cb18-93"></a><span class="in">```</span></span>
<span id="cb18-94"><a href="#cb18-94"></a></span>
<span id="cb18-95"><a href="#cb18-95"></a><span class="fu"># RESULTS</span></span>
<span id="cb18-96"><a href="#cb18-96"></a></span>
<span id="cb18-97"><a href="#cb18-97"></a><span class="fu">## Impact of the day of the week</span></span>
<span id="cb18-98"><a href="#cb18-98"></a></span>
<span id="cb18-101"><a href="#cb18-101"></a><span class="in">```{r}</span></span>
<span id="cb18-102"><a href="#cb18-102"></a><span class="co">#| label: Table summary 1</span></span>
<span id="cb18-103"><a href="#cb18-103"></a>question1_summary <span class="ot">&lt;-</span> posmo <span class="sc">|&gt;</span> </span>
<span id="cb18-104"><a href="#cb18-104"></a>  <span class="fu">group_by</span>(day_week, transport_mode) <span class="sc">|&gt;</span> </span>
<span id="cb18-105"><a href="#cb18-105"></a>  <span class="fu">summarise</span>(<span class="at">dis_mean =</span> <span class="fu">mean</span>(trip_dis, <span class="at">na.rm =</span> T),</span>
<span id="cb18-106"><a href="#cb18-106"></a>            <span class="at">speed_mean =</span> <span class="fu">mean</span>(trip_speed, <span class="at">na.rm =</span> T),</span>
<span id="cb18-107"><a href="#cb18-107"></a>            <span class="at">dur_mean =</span> <span class="fu">mean</span>(trip_duration, <span class="at">na.rm =</span> T)) <span class="sc">|&gt;</span> </span>
<span id="cb18-108"><a href="#cb18-108"></a>  <span class="fu">mutate</span>(<span class="at">perc_dis =</span> dis_mean<span class="sc">/</span><span class="fu">sum</span>(dis_mean)<span class="sc">*</span><span class="dv">100</span>,</span>
<span id="cb18-109"><a href="#cb18-109"></a>         <span class="at">perc_speed =</span> speed_mean<span class="sc">/</span><span class="fu">sum</span>(speed_mean)<span class="sc">*</span><span class="dv">100</span>,</span>
<span id="cb18-110"><a href="#cb18-110"></a>         <span class="at">perc_dur =</span> dur_mean<span class="sc">/</span><span class="fu">sum</span>(dur_mean)<span class="sc">*</span><span class="dv">100</span>)</span>
<span id="cb18-111"><a href="#cb18-111"></a></span>
<span id="cb18-112"><a href="#cb18-112"></a>question1_summary</span>
<span id="cb18-113"><a href="#cb18-113"></a></span>
<span id="cb18-114"><a href="#cb18-114"></a></span>
<span id="cb18-115"><a href="#cb18-115"></a>knitr<span class="sc">::</span>opts_chunk<span class="sc">$</span><span class="fu">set</span>(<span class="at">eval =</span> <span class="cn">FALSE</span>)</span>
<span id="cb18-116"><a href="#cb18-116"></a><span class="in">```</span></span>
<span id="cb18-117"><a href="#cb18-117"></a>Table 1: Overview over the calculated metrics for weekends and weekdays, including the different travel modes</span>
<span id="cb18-118"><a href="#cb18-118"></a></span>
<span id="cb18-119"><a href="#cb18-119"></a><span class="fu">### Spatial Analysis</span></span>
<span id="cb18-120"><a href="#cb18-120"></a>*Trip distance* </span>
<span id="cb18-121"><a href="#cb18-121"></a>For each travelmode we found a higher trip distance on weekends compared to weekdays. The trip distances for the travel mode "walk" have a lower mean than for other travel modes. On the other hand, the mean travel distances for "bike" are around the same range as for "car" and "train". </span>
<span id="cb18-122"><a href="#cb18-122"></a><span class="in">```{r, fig.cap = "Figure 1: Trip distance per transport mode comparing weekends and weekdays, the trip distance is logarythmised"}</span></span>
<span id="cb18-123"><a href="#cb18-123"></a><span class="co">#| label: Boxplot comparing trip distance between weekend and weekday of travelmodes</span></span>
<span id="cb18-124"><a href="#cb18-124"></a></span>
<span id="cb18-125"><a href="#cb18-125"></a>  <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb18-126"><a href="#cb18-126"></a>  <span class="fu">geom_boxplot</span>(<span class="at">data =</span> posmo, <span class="fu">aes</span>(day_week, <span class="fu">log</span>(trip_dis), <span class="at">fill =</span> day_week)) <span class="sc">+</span></span>
<span id="cb18-127"><a href="#cb18-127"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Trip Distance per Transport Mode"</span>, <span class="at">subtitle =</span> <span class="st">"Comparing Weekend vs. Weekday"</span>, <span class="at">fill =</span> <span class="st">"Day of the Week"</span>) <span class="sc">+</span></span>
<span id="cb18-128"><a href="#cb18-128"></a>  <span class="fu">ylab</span>(<span class="st">"Log Trip Distance [m]"</span>) <span class="sc">+</span></span>
<span id="cb18-129"><a href="#cb18-129"></a>  <span class="fu">xlab</span>(<span class="st">"Transport Mode"</span>) <span class="sc">+</span></span>
<span id="cb18-130"><a href="#cb18-130"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"weekday"</span> <span class="ot">=</span> <span class="st">"lavenderblush3"</span>, <span class="st">"weekend"</span> <span class="ot">=</span> <span class="st">"aquamarine3"</span>), <span class="at">labels =</span> <span class="fu">c</span>( <span class="st">"Weekday"</span>, <span class="st">"Weekend"</span>)) <span class="sc">+</span></span>
<span id="cb18-131"><a href="#cb18-131"></a>    <span class="fu">facet_wrap</span>(<span class="sc">~</span>transport_mode, <span class="at">nrow =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb18-132"><a href="#cb18-132"></a>    <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb18-133"><a href="#cb18-133"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x=</span><span class="fu">element_blank</span>())</span>
<span id="cb18-134"><a href="#cb18-134"></a><span class="in">```</span></span>
<span id="cb18-135"><a href="#cb18-135"></a>*Trip speed*</span>
<span id="cb18-136"><a href="#cb18-136"></a>For trip speed, the results are not as clear as for trip distance, but there is a tendency of trip speed being higher on the weekends, than during the week. Again we find the mean trip speed of "bike" being in a similar range as "car" and "train", whereas "bus" conforms to "horse".</span>
<span id="cb18-137"><a href="#cb18-137"></a></span>
<span id="cb18-138"><a href="#cb18-138"></a><span class="in">```{r, fig.cap = "Figure 2: Trip speed per transport mode comparing weekends and weekdays, the trip speed is logarythmised"}</span></span>
<span id="cb18-139"><a href="#cb18-139"></a><span class="co">#| label: Boxplot comparing trip speed between weekend and weekday of travelmodes</span></span>
<span id="cb18-140"><a href="#cb18-140"></a></span>
<span id="cb18-141"><a href="#cb18-141"></a><span class="fu">ggplot</span>(posmo, <span class="fu">aes</span>(day_week, <span class="fu">log</span>(trip_speed), <span class="at">fill =</span> day_week)) <span class="sc">+</span></span>
<span id="cb18-142"><a href="#cb18-142"></a>  <span class="fu">geom_boxplot</span>() <span class="sc">+</span></span>
<span id="cb18-143"><a href="#cb18-143"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Trip Speed per Transport Mode"</span>, <span class="at">subtitle =</span> <span class="st">"Comparing Weekend vs. Weekday"</span>, <span class="at">fill =</span> <span class="st">"Day of the Week"</span>) <span class="sc">+</span></span>
<span id="cb18-144"><a href="#cb18-144"></a>  <span class="fu">ylab</span>(<span class="st">"Log Speed [m/s]"</span>) <span class="sc">+</span></span>
<span id="cb18-145"><a href="#cb18-145"></a>  <span class="fu">xlab</span>(<span class="st">"Transport Mode"</span>) <span class="sc">+</span></span>
<span id="cb18-146"><a href="#cb18-146"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"weekday"</span> <span class="ot">=</span> <span class="st">"lavenderblush3"</span>, <span class="st">"weekend"</span> <span class="ot">=</span> <span class="st">"aquamarine3"</span>), <span class="at">labels =</span> <span class="fu">c</span>( <span class="st">"Weekday"</span>, <span class="st">"Weekend"</span>)) <span class="sc">+</span></span>
<span id="cb18-147"><a href="#cb18-147"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>transport_mode, <span class="at">nrow =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb18-148"><a href="#cb18-148"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb18-149"><a href="#cb18-149"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x=</span><span class="fu">element_blank</span>())</span>
<span id="cb18-150"><a href="#cb18-150"></a><span class="in">```</span></span>
<span id="cb18-151"><a href="#cb18-151"></a><span class="fu">### Temporal Analysis</span></span>
<span id="cb18-152"><a href="#cb18-152"></a>*Trip duration*</span>
<span id="cb18-153"><a href="#cb18-153"></a>We could not find a clear result concerning trip duration between weekends and weekdays. The only tendency that can be seen, is that the mean trip duration of "walk" is lower than for all the other travel modes.</span>
<span id="cb18-154"><a href="#cb18-154"></a></span>
<span id="cb18-155"><a href="#cb18-155"></a><span class="in">```{r, fig.cap = "Figure 3: Trip duration per transport mode comparing weekends and weekdays, the trip duration is logarythmised"}</span></span>
<span id="cb18-156"><a href="#cb18-156"></a></span>
<span id="cb18-157"><a href="#cb18-157"></a></span>
<span id="cb18-158"><a href="#cb18-158"></a><span class="co">#| label: Boxplot comparing trip duration between weekend and weekday of travelmodes</span></span>
<span id="cb18-159"><a href="#cb18-159"></a></span>
<span id="cb18-160"><a href="#cb18-160"></a><span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb18-161"><a href="#cb18-161"></a>  <span class="fu">geom_boxplot</span>(<span class="at">data =</span> posmo, <span class="fu">aes</span>(day_week, <span class="fu">log</span>(trip_duration<span class="sc">/</span><span class="dv">60</span>), <span class="at">fill =</span> day_week)) <span class="sc">+</span></span>
<span id="cb18-162"><a href="#cb18-162"></a>   <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Trip Duration per Transport Mode"</span>, <span class="at">subtitle =</span> <span class="st">"Comparing Weekend vs. Weekday"</span>, <span class="at">fill =</span> <span class="st">"Day of the Week"</span>) <span class="sc">+</span></span>
<span id="cb18-163"><a href="#cb18-163"></a>  <span class="fu">ylab</span>(<span class="st">"Log Duration [min]"</span>) <span class="sc">+</span></span>
<span id="cb18-164"><a href="#cb18-164"></a>  <span class="fu">xlab</span>(<span class="st">"Transport Mode"</span>) <span class="sc">+</span></span>
<span id="cb18-165"><a href="#cb18-165"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"weekday"</span> <span class="ot">=</span> <span class="st">"lavenderblush3"</span>, <span class="st">"weekend"</span> <span class="ot">=</span> <span class="st">"aquamarine3"</span>), <span class="at">labels =</span> <span class="fu">c</span>( <span class="st">"Weekday"</span>, <span class="st">"Weekend"</span>)) <span class="sc">+</span></span>
<span id="cb18-166"><a href="#cb18-166"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>transport_mode, <span class="at">nrow =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb18-167"><a href="#cb18-167"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb18-168"><a href="#cb18-168"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x=</span><span class="fu">element_blank</span>())</span>
<span id="cb18-169"><a href="#cb18-169"></a><span class="in">```</span></span>
<span id="cb18-170"><a href="#cb18-170"></a></span>
<span id="cb18-171"><a href="#cb18-171"></a><span class="in">```{r, fig.cap = "Figure 4: Cartographic representation of trajectory points from six students compared during the weekend vs. workdays"}</span></span>
<span id="cb18-172"><a href="#cb18-172"></a><span class="co">#| label: prepro and creation of visual map with convex hull</span></span>
<span id="cb18-173"><a href="#cb18-173"></a></span>
<span id="cb18-174"><a href="#cb18-174"></a><span class="co"># transform posmo data into an sf object </span></span>
<span id="cb18-175"><a href="#cb18-175"></a>posmo <span class="ot">&lt;-</span> <span class="fu">st_as_sf</span>(posmo, <span class="at">coords =</span> <span class="fu">c</span>(<span class="st">"X"</span>,<span class="st">"Y"</span>), <span class="at">crs =</span> <span class="dv">2056</span>) </span>
<span id="cb18-176"><a href="#cb18-176"></a></span>
<span id="cb18-177"><a href="#cb18-177"></a><span class="co"># 1. add grouping variable to the sf object</span></span>
<span id="cb18-178"><a href="#cb18-178"></a>posmo_grouped <span class="ot">&lt;-</span> <span class="fu">group_by</span>(posmo, dataset)</span>
<span id="cb18-179"><a href="#cb18-179"></a></span>
<span id="cb18-180"><a href="#cb18-180"></a><span class="co"># 2. use summarise() to "dissolve" all point into a multipoint object</span></span>
<span id="cb18-181"><a href="#cb18-181"></a>posmo_smry <span class="ot">&lt;-</span> <span class="fu">summarise</span>(posmo_grouped)</span>
<span id="cb18-182"><a href="#cb18-182"></a></span>
<span id="cb18-183"><a href="#cb18-183"></a><span class="co"># 3. run st_convex_hull()</span></span>
<span id="cb18-184"><a href="#cb18-184"></a>mcp_posmo <span class="ot">&lt;-</span> <span class="fu">st_convex_hull</span>(posmo_smry)</span>
<span id="cb18-185"><a href="#cb18-185"></a></span>
<span id="cb18-186"><a href="#cb18-186"></a></span>
<span id="cb18-187"><a href="#cb18-187"></a><span class="co"># set visual mode</span></span>
<span id="cb18-188"><a href="#cb18-188"></a><span class="fu">tmap_mode</span>(<span class="st">"view"</span>)</span>
<span id="cb18-189"><a href="#cb18-189"></a></span>
<span id="cb18-190"><a href="#cb18-190"></a><span class="co"># segmented visualisation </span></span>
<span id="cb18-191"><a href="#cb18-191"></a><span class="fu">tm_shape</span>(mcp_posmo) <span class="sc">+</span></span>
<span id="cb18-192"><a href="#cb18-192"></a>  <span class="fu">tm_fill</span>(<span class="at">col =</span> <span class="st">"dataset"</span>, <span class="at">alpha =</span> <span class="fl">0.4</span>, <span class="at">title =</span> <span class="st">"Student"</span>) <span class="sc">+</span></span>
<span id="cb18-193"><a href="#cb18-193"></a>  <span class="fu">tm_layout</span>(<span class="at">title =</span> <span class="st">"Cartographic Representation of Students travelling on Weekdays vs. Weekends"</span>) <span class="sc">+</span></span>
<span id="cb18-194"><a href="#cb18-194"></a>  <span class="fu">tm_shape</span>(mcp_posmo) <span class="sc">+</span></span>
<span id="cb18-195"><a href="#cb18-195"></a>  <span class="fu">tm_borders</span>(<span class="at">col =</span> <span class="st">"red"</span>) <span class="sc">+</span></span>
<span id="cb18-196"><a href="#cb18-196"></a>  <span class="fu">tm_shape</span>(posmo) <span class="sc">+</span></span>
<span id="cb18-197"><a href="#cb18-197"></a>  <span class="fu">tm_dots</span>(<span class="at">col =</span> <span class="st">"day_week"</span>, <span class="at">title =</span> <span class="st">"Day of the Week"</span>)</span>
<span id="cb18-198"><a href="#cb18-198"></a><span class="in">```</span></span>
<span id="cb18-199"><a href="#cb18-199"></a></span>
<span id="cb18-200"><a href="#cb18-200"></a><span class="fu">## Impact of the time of the day</span></span>
<span id="cb18-201"><a href="#cb18-201"></a></span>
<span id="cb18-202"><a href="#cb18-202"></a>Does the time of the day compared between weekend/weekday have an</span>
<span id="cb18-203"><a href="#cb18-203"></a>influence on spatio-temporal movement patterns of students?</span>
<span id="cb18-204"><a href="#cb18-204"></a></span>
<span id="cb18-207"><a href="#cb18-207"></a><span class="in">```{r}</span></span>
<span id="cb18-208"><a href="#cb18-208"></a><span class="co">#| label: prepro metrics for plots</span></span>
<span id="cb18-209"><a href="#cb18-209"></a></span>
<span id="cb18-210"><a href="#cb18-210"></a><span class="co"># load clean data </span></span>
<span id="cb18-211"><a href="#cb18-211"></a>posmo <span class="ot">&lt;-</span> <span class="fu">read_delim</span>(<span class="st">"posmo_data/posmo_trips.csv"</span>)</span>
<span id="cb18-212"><a href="#cb18-212"></a></span>
<span id="cb18-213"><a href="#cb18-213"></a><span class="co"># round datetime to 1h </span></span>
<span id="cb18-214"><a href="#cb18-214"></a>posmo_round <span class="ot">&lt;-</span> posmo <span class="sc">|&gt;</span></span>
<span id="cb18-215"><a href="#cb18-215"></a>  <span class="fu">mutate</span>(<span class="at">hour =</span> lubridate<span class="sc">::</span><span class="fu">hour</span>(datetime))</span>
<span id="cb18-216"><a href="#cb18-216"></a></span>
<span id="cb18-217"><a href="#cb18-217"></a></span>
<span id="cb18-218"><a href="#cb18-218"></a><span class="co"># create dataframe, which calculates mean steplength, speed per hour over all dates</span></span>
<span id="cb18-219"><a href="#cb18-219"></a><span class="co"># here with days of the week (weekend vs. weekday)</span></span>
<span id="cb18-220"><a href="#cb18-220"></a>posmo_day <span class="ot">&lt;-</span> posmo_round <span class="sc">|&gt;</span></span>
<span id="cb18-221"><a href="#cb18-221"></a>  <span class="fu">group_by</span>(hour, day_week)<span class="sc">|&gt;</span></span>
<span id="cb18-222"><a href="#cb18-222"></a>  <span class="fu">summarise</span>(<span class="at">mean_dis =</span> <span class="fu">mean</span>(trip_dis, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb18-223"><a href="#cb18-223"></a>            <span class="at">mean_speed =</span> <span class="fu">mean</span>(trip_speed, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb18-224"><a href="#cb18-224"></a>            <span class="at">mean_duration =</span> <span class="fu">mean</span>(trip_duration, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)) </span>
<span id="cb18-225"><a href="#cb18-225"></a><span class="in">```</span></span>
<span id="cb18-226"><a href="#cb18-226"></a></span>
<span id="cb18-227"><a href="#cb18-227"></a><span class="fu">### Spatial Analysis</span></span>
<span id="cb18-228"><a href="#cb18-228"></a>*Trip distance*</span>
<span id="cb18-229"><a href="#cb18-229"></a>The result for the trip distances per hour and weekday encourages the previous result of trip distance per travel mode, as both results show higher trip distances on the weekends compared to on weekdays. Otherwise the results do not show clear patterns. Maybe a slight decrease of the trip distances towards the end of the day. </span>
<span id="cb18-230"><a href="#cb18-230"></a><span class="in">```{r, fig.cap = "Figure 5: Mean trip distance for every hour of the day on weekdays and weekends"}</span></span>
<span id="cb18-231"><a href="#cb18-231"></a></span>
<span id="cb18-232"><a href="#cb18-232"></a><span class="co">#| label: Mean trip distance per hour of the day compared between weekend/weekday</span></span>
<span id="cb18-233"><a href="#cb18-233"></a></span>
<span id="cb18-234"><a href="#cb18-234"></a><span class="fu">ggplot</span>(posmo_day, <span class="fu">aes</span>(hour, mean_dis, <span class="at">col =</span> day_week)) <span class="sc">+</span></span>
<span id="cb18-235"><a href="#cb18-235"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb18-236"><a href="#cb18-236"></a>  <span class="fu">geom_line</span>(<span class="at">lwd =</span> <span class="fl">0.7</span>) <span class="sc">+</span></span>
<span id="cb18-237"><a href="#cb18-237"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Mean Trip Distance over 24h"</span>, <span class="at">subtitle =</span> <span class="st">"Compared between Weekend vs. Weekday"</span>, <span class="at">color =</span> <span class="st">"Day of the Week"</span>) <span class="sc">+</span></span>
<span id="cb18-238"><a href="#cb18-238"></a>  <span class="fu">scale_color_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"weekday"</span> <span class="ot">=</span> <span class="st">"mediumpurple4"</span>, <span class="st">"weekend"</span> <span class="ot">=</span> <span class="st">"aquamarine3"</span>), <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"Weekday"</span>, <span class="st">"Weekend"</span>)) <span class="sc">+</span></span>
<span id="cb18-239"><a href="#cb18-239"></a>  <span class="fu">ylab</span>(<span class="st">"Mean Distance [m]"</span>) <span class="sc">+</span></span>
<span id="cb18-240"><a href="#cb18-240"></a>  <span class="fu">xlab</span>(<span class="st">"Hour"</span>) <span class="sc">+</span></span>
<span id="cb18-241"><a href="#cb18-241"></a>  <span class="fu">theme_minimal</span>()</span>
<span id="cb18-242"><a href="#cb18-242"></a><span class="in">```</span></span>
<span id="cb18-243"><a href="#cb18-243"></a>*Trip speed*</span>
<span id="cb18-244"><a href="#cb18-244"></a>The pattern of a decreasing travel speed on the weekend towards the end of the day gets clearer in this result. Also, we found a higher trip speeds for weekends compared to on weekdays. </span>
<span id="cb18-245"><a href="#cb18-245"></a></span>
<span id="cb18-246"><a href="#cb18-246"></a><span class="in">```{r, fig.cap = "Figure 6: Mean trip speed for every hour of the day on weekdays and weekends"}</span></span>
<span id="cb18-247"><a href="#cb18-247"></a><span class="co">#| label: Mean trip speed per hour of the day compared between weekend/weekday</span></span>
<span id="cb18-248"><a href="#cb18-248"></a></span>
<span id="cb18-249"><a href="#cb18-249"></a><span class="fu">ggplot</span>(posmo_day, <span class="fu">aes</span>(hour, mean_speed, <span class="at">col =</span> day_week)) <span class="sc">+</span></span>
<span id="cb18-250"><a href="#cb18-250"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb18-251"><a href="#cb18-251"></a>  <span class="fu">geom_line</span>(<span class="at">lwd =</span> <span class="fl">0.7</span>) <span class="sc">+</span></span>
<span id="cb18-252"><a href="#cb18-252"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Mean Speed over 24h"</span>, <span class="at">subtitle =</span> <span class="st">"Compared between Weekend vs. Weekday"</span>, <span class="at">color =</span> <span class="st">"Day of the Week"</span>) <span class="sc">+</span> </span>
<span id="cb18-253"><a href="#cb18-253"></a>  <span class="fu">scale_color_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"weekday"</span> <span class="ot">=</span> <span class="st">"mediumpurple4"</span>, <span class="st">"weekend"</span> <span class="ot">=</span> <span class="st">"aquamarine3"</span>), <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"Weekday"</span>, <span class="st">"Weekend"</span>))<span class="sc">+</span></span>
<span id="cb18-254"><a href="#cb18-254"></a>  <span class="fu">ylab</span>(<span class="st">"Mean Speed [m/s]"</span>) <span class="sc">+</span></span>
<span id="cb18-255"><a href="#cb18-255"></a>  <span class="fu">xlab</span>(<span class="st">"Hour"</span>) <span class="sc">+</span></span>
<span id="cb18-256"><a href="#cb18-256"></a>  <span class="fu">theme_minimal</span>()</span>
<span id="cb18-257"><a href="#cb18-257"></a><span class="in">```</span></span>
<span id="cb18-258"><a href="#cb18-258"></a></span>
<span id="cb18-259"><a href="#cb18-259"></a><span class="fu">### Temproal Analysis</span></span>
<span id="cb18-260"><a href="#cb18-260"></a>*Trip duration*</span>
<span id="cb18-261"><a href="#cb18-261"></a>The trip duration seems to rise slightly on both weekends and weekdays towards the end of the day. Otherwise we could not detect any pattern in this result. </span>
<span id="cb18-262"><a href="#cb18-262"></a></span>
<span id="cb18-263"><a href="#cb18-263"></a><span class="in">```{r, fig.cap = "Figure 7: Mean trip duration for every hour of the day on weekdays and weekends"}</span></span>
<span id="cb18-264"><a href="#cb18-264"></a><span class="co">#| label: Mean trip duration per hour of the day compared between weekend/weekday</span></span>
<span id="cb18-265"><a href="#cb18-265"></a></span>
<span id="cb18-266"><a href="#cb18-266"></a><span class="fu">ggplot</span>(posmo_day, <span class="fu">aes</span>(hour, mean_duration<span class="sc">/</span><span class="dv">60</span>, <span class="at">col =</span> day_week)) <span class="sc">+</span></span>
<span id="cb18-267"><a href="#cb18-267"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb18-268"><a href="#cb18-268"></a>    <span class="fu">geom_line</span>(<span class="at">lwd =</span> <span class="fl">0.7</span>) <span class="sc">+</span></span>
<span id="cb18-269"><a href="#cb18-269"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Mean Trip Duration over 24h"</span>, <span class="at">subtitle =</span> <span class="st">"Compared between Weekend vs. Weekday"</span>, <span class="at">color =</span> <span class="st">"Day of the Week"</span>) <span class="sc">+</span></span>
<span id="cb18-270"><a href="#cb18-270"></a>  <span class="fu">ylab</span>(<span class="st">"Mean Duration [min]"</span>) <span class="sc">+</span></span>
<span id="cb18-271"><a href="#cb18-271"></a>  <span class="fu">xlab</span>(<span class="st">"Hour"</span>) <span class="sc">+</span></span>
<span id="cb18-272"><a href="#cb18-272"></a>  <span class="fu">scale_color_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"weekday"</span> <span class="ot">=</span> <span class="st">"mediumpurple4"</span>, <span class="st">"weekend"</span> <span class="ot">=</span> <span class="st">"aquamarine3"</span>), <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"Weekday"</span>, <span class="st">"Weekend"</span>)) <span class="sc">+</span></span>
<span id="cb18-273"><a href="#cb18-273"></a>  <span class="fu">theme_minimal</span>()</span>
<span id="cb18-274"><a href="#cb18-274"></a><span class="in">```</span></span>
<span id="cb18-275"><a href="#cb18-275"></a></span>
<span id="cb18-276"><a href="#cb18-276"></a><span class="fu">## Impact of precipitation</span></span>
<span id="cb18-277"><a href="#cb18-277"></a></span>
<span id="cb18-278"><a href="#cb18-278"></a></span>
<span id="cb18-281"><a href="#cb18-281"></a><span class="in">```{r}</span></span>
<span id="cb18-282"><a href="#cb18-282"></a><span class="co">#| label: Table Summary 2</span></span>
<span id="cb18-283"><a href="#cb18-283"></a></span>
<span id="cb18-284"><a href="#cb18-284"></a><span class="co">#load clean data</span></span>
<span id="cb18-285"><a href="#cb18-285"></a>posmo <span class="ot">&lt;-</span> <span class="fu">read_delim</span>(<span class="st">"posmo_data/posmo_trips.csv"</span>)</span>
<span id="cb18-286"><a href="#cb18-286"></a></span>
<span id="cb18-287"><a href="#cb18-287"></a>question2_summary <span class="ot">&lt;-</span> posmo <span class="sc">|&gt;</span> </span>
<span id="cb18-288"><a href="#cb18-288"></a>  <span class="fu">group_by</span>(rain_day, transport_mode) <span class="sc">|&gt;</span> </span>
<span id="cb18-289"><a href="#cb18-289"></a>  <span class="fu">summarise</span>(<span class="at">dis_mean =</span> <span class="fu">mean</span>(trip_dis, <span class="at">na.rm =</span> T),</span>
<span id="cb18-290"><a href="#cb18-290"></a>            <span class="at">speed_mean =</span> <span class="fu">mean</span>(trip_speed, <span class="at">na.rm =</span> T),</span>
<span id="cb18-291"><a href="#cb18-291"></a>            <span class="at">dur_mean =</span> <span class="fu">mean</span>(trip_duration, <span class="at">na.rm =</span> T)) <span class="sc">|&gt;</span> </span>
<span id="cb18-292"><a href="#cb18-292"></a>  <span class="fu">mutate</span>(<span class="at">perc_dis =</span> dis_mean<span class="sc">/</span><span class="fu">sum</span>(dis_mean)<span class="sc">*</span><span class="dv">100</span>,</span>
<span id="cb18-293"><a href="#cb18-293"></a>         <span class="at">perc_speed =</span> speed_mean<span class="sc">/</span><span class="fu">sum</span>(speed_mean)<span class="sc">*</span><span class="dv">100</span>,</span>
<span id="cb18-294"><a href="#cb18-294"></a>         <span class="at">perc_dur =</span> dur_mean<span class="sc">/</span><span class="fu">sum</span>(dur_mean)<span class="sc">*</span><span class="dv">100</span>) <span class="sc">|&gt;</span></span>
<span id="cb18-295"><a href="#cb18-295"></a>  <span class="fu">subset</span>(rain_day <span class="sc">==</span> <span class="st">"rain"</span>)</span>
<span id="cb18-296"><a href="#cb18-296"></a></span>
<span id="cb18-297"><a href="#cb18-297"></a>question2_summary</span>
<span id="cb18-298"><a href="#cb18-298"></a><span class="in">```</span></span>
<span id="cb18-299"><a href="#cb18-299"></a>Table 2: Overview over calculated metrics for weekday/weekend including the precipitation data</span>
<span id="cb18-300"><a href="#cb18-300"></a></span>
<span id="cb18-301"><a href="#cb18-301"></a><span class="fu">### Spatial Analysis</span></span>
<span id="cb18-302"><a href="#cb18-302"></a></span>
<span id="cb18-303"><a href="#cb18-303"></a>Precipitation reduced trip distance by bike, foot, bus and car, while distance was higher for travel modes like train and tram. Rain had almost no effect on trip distance when travelling by horse. Although, travel distances are impacted by precipitation, the effect is only marginal. </span>
<span id="cb18-304"><a href="#cb18-304"></a></span>
<span id="cb18-305"><a href="#cb18-305"></a><span class="in">```{r, fig.cap = "Figure 8: Mean trip distance depending on precipitation status, where the trip distance is logarythmised"}</span></span>
<span id="cb18-306"><a href="#cb18-306"></a></span>
<span id="cb18-307"><a href="#cb18-307"></a><span class="co">#| label: mean trip distance depending on precipitation</span></span>
<span id="cb18-308"><a href="#cb18-308"></a></span>
<span id="cb18-309"><a href="#cb18-309"></a><span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb18-310"><a href="#cb18-310"></a>  <span class="fu">geom_boxplot</span>(<span class="at">data =</span> posmo, <span class="fu">aes</span>(rain_day, <span class="fu">log</span>(trip_dis), <span class="at">fill =</span> rain_day)) <span class="sc">+</span></span>
<span id="cb18-311"><a href="#cb18-311"></a>    <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Trip Distance per Transport Mode"</span>, <span class="at">subtitle =</span> <span class="st">"Comparing Precipitation vs. no Precipitation"</span>, <span class="at">fill =</span> <span class="st">"Precipitation"</span>) <span class="sc">+</span></span>
<span id="cb18-312"><a href="#cb18-312"></a>  <span class="fu">ylab</span>(<span class="st">"Log Distance [m]"</span>) <span class="sc">+</span></span>
<span id="cb18-313"><a href="#cb18-313"></a>  <span class="fu">xlab</span>(<span class="st">"Transport Mode"</span>) <span class="sc">+</span></span>
<span id="cb18-314"><a href="#cb18-314"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"rain"</span> <span class="ot">=</span> <span class="st">"lavenderblush3"</span>, <span class="st">"no_rain"</span> <span class="ot">=</span> <span class="st">"aquamarine3"</span>), <span class="at">labels =</span> <span class="fu">c</span>( <span class="st">"Precipitation"</span>, <span class="st">"No Precipitation"</span>)) <span class="sc">+</span></span>
<span id="cb18-315"><a href="#cb18-315"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>transport_mode, <span class="at">nrow =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb18-316"><a href="#cb18-316"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb18-317"><a href="#cb18-317"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x=</span><span class="fu">element_blank</span>())</span>
<span id="cb18-318"><a href="#cb18-318"></a><span class="in">```</span></span>
<span id="cb18-319"><a href="#cb18-319"></a></span>
<span id="cb18-320"><a href="#cb18-320"></a>Speed at high precipitation is lower when travelling by bike, foot, bus and car, while for travel modes such as train and tram speed was higher. Travelling by horse was effected insignificantly by precipitation. Although, travel speeds are impacted by precipitation, the effect is only marginal. </span>
<span id="cb18-321"><a href="#cb18-321"></a><span class="in">```{r, fig.cap = "Figure 9: Mean trip speed depending on precipitation status, where the trip speed is logarythmised"}</span></span>
<span id="cb18-322"><a href="#cb18-322"></a><span class="co">#| label: mean trip speed depending on precipitation</span></span>
<span id="cb18-323"><a href="#cb18-323"></a></span>
<span id="cb18-324"><a href="#cb18-324"></a><span class="fu">ggplot</span>(posmo, <span class="fu">aes</span>(rain_day, <span class="fu">log</span>(trip_speed), <span class="at">fill =</span> rain_day)) <span class="sc">+</span></span>
<span id="cb18-325"><a href="#cb18-325"></a>  <span class="fu">geom_boxplot</span>() <span class="sc">+</span></span>
<span id="cb18-326"><a href="#cb18-326"></a>   <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Trip Speed per Transport Mode"</span>, <span class="at">subtitle =</span> <span class="st">"Comparing Precipitation vs. no Precipitation"</span>, <span class="at">fill =</span> <span class="st">"Precipitation"</span>) <span class="sc">+</span></span>
<span id="cb18-327"><a href="#cb18-327"></a>  <span class="fu">ylab</span>(<span class="st">"Log Speed [m/s]"</span>) <span class="sc">+</span></span>
<span id="cb18-328"><a href="#cb18-328"></a>  <span class="fu">xlab</span>(<span class="st">"Transport Mode"</span>) <span class="sc">+</span></span>
<span id="cb18-329"><a href="#cb18-329"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"rain"</span> <span class="ot">=</span> <span class="st">"lavenderblush3"</span>, <span class="st">"no_rain"</span> <span class="ot">=</span> <span class="st">"aquamarine3"</span>), <span class="at">labels =</span> <span class="fu">c</span>( <span class="st">"Precipitation"</span>, <span class="st">"No Precipitation"</span>)) <span class="sc">+</span></span>
<span id="cb18-330"><a href="#cb18-330"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>transport_mode, <span class="at">nrow =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb18-331"><a href="#cb18-331"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb18-332"><a href="#cb18-332"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x=</span><span class="fu">element_blank</span>())</span>
<span id="cb18-333"><a href="#cb18-333"></a><span class="in">```</span></span>
<span id="cb18-334"><a href="#cb18-334"></a></span>
<span id="cb18-335"><a href="#cb18-335"></a><span class="fu">### Temporal Analysis</span></span>
<span id="cb18-336"><a href="#cb18-336"></a></span>
<span id="cb18-337"><a href="#cb18-337"></a>The duration of trips was shorter under heavy precipitation by bike, bus and car, while students travelled longer by train and tram. Considering travelling by horse and foot, precipitation had only insignificant effects. </span>
<span id="cb18-338"><a href="#cb18-338"></a></span>
<span id="cb18-339"><a href="#cb18-339"></a><span class="in">```{r, fig.cap= "Figure 10: Mean trip duration depending on precipitation status"}</span></span>
<span id="cb18-340"><a href="#cb18-340"></a><span class="co">#| label: mean trip duration depending on precipitation</span></span>
<span id="cb18-341"><a href="#cb18-341"></a></span>
<span id="cb18-342"><a href="#cb18-342"></a><span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb18-343"><a href="#cb18-343"></a>  <span class="fu">geom_boxplot</span>(<span class="at">data =</span> posmo, <span class="fu">aes</span>(rain_day, trip_duration<span class="sc">/</span><span class="dv">60</span>, <span class="at">fill =</span> rain_day)) <span class="sc">+</span></span>
<span id="cb18-344"><a href="#cb18-344"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Trip Duration per Transport Mode"</span>, <span class="at">subtitle =</span> <span class="st">"Comparing Precipitation vs. no Precipitation"</span>, <span class="at">fill =</span> <span class="st">"Precipitation"</span>) <span class="sc">+</span></span>
<span id="cb18-345"><a href="#cb18-345"></a>  <span class="fu">ylab</span>(<span class="st">"Duration [min]"</span>) <span class="sc">+</span></span>
<span id="cb18-346"><a href="#cb18-346"></a>  <span class="fu">xlab</span>(<span class="st">"Transport Mode"</span>) <span class="sc">+</span></span>
<span id="cb18-347"><a href="#cb18-347"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"rain"</span> <span class="ot">=</span> <span class="st">"lavenderblush3"</span>, <span class="st">"no_rain"</span> <span class="ot">=</span> <span class="st">"aquamarine3"</span>), <span class="at">labels =</span> <span class="fu">c</span>( <span class="st">"Precipitation"</span>, <span class="st">"No Precipitation"</span>)) <span class="sc">+</span></span>
<span id="cb18-348"><a href="#cb18-348"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>transport_mode, <span class="at">nrow =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb18-349"><a href="#cb18-349"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb18-350"><a href="#cb18-350"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x=</span><span class="fu">element_blank</span>())</span>
<span id="cb18-351"><a href="#cb18-351"></a><span class="in">```</span></span>
<span id="cb18-352"><a href="#cb18-352"></a></span>
<span id="cb18-353"><a href="#cb18-353"></a><span class="in">```{r, fig.cap = "Figure 11: Cartographic representation of trajectory points from six students compared during the precipitation vs. no precipitation. Additionally, all weather stations used are visualised as black points on the map."}</span></span>
<span id="cb18-354"><a href="#cb18-354"></a><span class="co">#| label: create visual map rain</span></span>
<span id="cb18-355"><a href="#cb18-355"></a></span>
<span id="cb18-356"><a href="#cb18-356"></a><span class="co"># load weather stations </span></span>
<span id="cb18-357"><a href="#cb18-357"></a>legend <span class="ot">&lt;-</span> <span class="fu">read_delim</span>(<span class="st">"data/weather_legend.csv"</span>)</span>
<span id="cb18-358"><a href="#cb18-358"></a></span>
<span id="cb18-359"><a href="#cb18-359"></a><span class="co"># create sf object of joined data</span></span>
<span id="cb18-360"><a href="#cb18-360"></a>weather <span class="ot">&lt;-</span> <span class="fu">st_as_sf</span>(legend, <span class="at">coords =</span> <span class="fu">c</span>(<span class="st">"E"</span>,<span class="st">"N"</span>), <span class="at">crs =</span> <span class="dv">2056</span>)</span>
<span id="cb18-361"><a href="#cb18-361"></a></span>
<span id="cb18-362"><a href="#cb18-362"></a><span class="co"># transform posmo data into an sf object </span></span>
<span id="cb18-363"><a href="#cb18-363"></a>posmo <span class="ot">&lt;-</span> <span class="fu">st_as_sf</span>(posmo, <span class="at">coords =</span> <span class="fu">c</span>(<span class="st">"X"</span>,<span class="st">"Y"</span>), <span class="at">crs =</span> <span class="dv">2056</span>) </span>
<span id="cb18-364"><a href="#cb18-364"></a></span>
<span id="cb18-365"><a href="#cb18-365"></a><span class="co"># 1. add grouping variable to the sf object</span></span>
<span id="cb18-366"><a href="#cb18-366"></a>posmo_grouped <span class="ot">&lt;-</span> <span class="fu">group_by</span>(posmo, dataset)</span>
<span id="cb18-367"><a href="#cb18-367"></a></span>
<span id="cb18-368"><a href="#cb18-368"></a><span class="co"># 2. use summarise() to "dissolve" all point into a multipoint object</span></span>
<span id="cb18-369"><a href="#cb18-369"></a>posmo_smry <span class="ot">&lt;-</span> <span class="fu">summarise</span>(posmo_grouped)</span>
<span id="cb18-370"><a href="#cb18-370"></a></span>
<span id="cb18-371"><a href="#cb18-371"></a><span class="co"># 3. run st_convex_hull()</span></span>
<span id="cb18-372"><a href="#cb18-372"></a>mcp_posmo <span class="ot">&lt;-</span> <span class="fu">st_convex_hull</span>(posmo_smry)</span>
<span id="cb18-373"><a href="#cb18-373"></a></span>
<span id="cb18-374"><a href="#cb18-374"></a><span class="co">#choose map mode</span></span>
<span id="cb18-375"><a href="#cb18-375"></a><span class="fu">tmap_mode</span>(<span class="st">"view"</span>)</span>
<span id="cb18-376"><a href="#cb18-376"></a></span>
<span id="cb18-377"><a href="#cb18-377"></a><span class="co"># segmented visualisation </span></span>
<span id="cb18-378"><a href="#cb18-378"></a><span class="fu">tm_shape</span>(mcp_posmo) <span class="sc">+</span></span>
<span id="cb18-379"><a href="#cb18-379"></a>  <span class="fu">tm_fill</span>(<span class="at">col =</span> <span class="st">"dataset"</span>, <span class="at">alpha =</span> <span class="fl">0.4</span>, <span class="at">title =</span> <span class="st">"Student"</span>) <span class="sc">+</span></span>
<span id="cb18-380"><a href="#cb18-380"></a>  <span class="fu">tm_layout</span>(<span class="at">title =</span> <span class="st">"Cartographic Representation of Students travelling with/without Precipitation"</span>) <span class="sc">+</span></span>
<span id="cb18-381"><a href="#cb18-381"></a>  <span class="fu">tm_shape</span>(mcp_posmo) <span class="sc">+</span></span>
<span id="cb18-382"><a href="#cb18-382"></a>  <span class="fu">tm_borders</span>(<span class="at">col =</span> <span class="st">"red"</span>) <span class="sc">+</span></span>
<span id="cb18-383"><a href="#cb18-383"></a>  <span class="fu">tm_shape</span>(posmo) <span class="sc">+</span></span>
<span id="cb18-384"><a href="#cb18-384"></a>  <span class="fu">tm_dots</span>(<span class="at">col =</span> <span class="st">"rain_day"</span>, <span class="at">title =</span> <span class="st">"Precipitation"</span>) <span class="sc">+</span></span>
<span id="cb18-385"><a href="#cb18-385"></a>  <span class="fu">tm_shape</span>(weather) <span class="sc">+</span></span>
<span id="cb18-386"><a href="#cb18-386"></a>  <span class="fu">tm_dots</span>(<span class="at">title =</span> <span class="st">"weather Stations"</span>)</span>
<span id="cb18-387"><a href="#cb18-387"></a></span>
<span id="cb18-388"><a href="#cb18-388"></a>posmo <span class="sc">|&gt;</span></span>
<span id="cb18-389"><a href="#cb18-389"></a>  <span class="fu">group_by</span>(rain_day, day_week, date) <span class="sc">|&gt;</span></span>
<span id="cb18-390"><a href="#cb18-390"></a>  <span class="fu">summarise</span>()</span>
<span id="cb18-391"><a href="#cb18-391"></a><span class="in">```</span></span>
<span id="cb18-392"><a href="#cb18-392"></a></span>
<span id="cb18-393"><a href="#cb18-393"></a></span>
<span id="cb18-394"><a href="#cb18-394"></a><span class="fu"># DISCUSSION </span></span>
<span id="cb18-395"><a href="#cb18-395"></a></span>
<span id="cb18-396"><a href="#cb18-396"></a>It is to be noted, that we investigated spatio-temporal movement patterns of students, which cannot be generalized, as it was shown that sociodemographics and travel behavior of university students differ from the general population and between students living on or off campus, as well as students attending urban or suburban campuses (Khattak et al., 2011). Travel behaviour is significantly impacted by age, income and life stage and these socio-demographic variables act in different ways to constrain or free types of travel behaviour (Kattiyapornpong &amp; Miller, 2009). </span>
<span id="cb18-397"><a href="#cb18-397"></a></span>
<span id="cb18-398"><a href="#cb18-398"></a>In the course of this project it became clear, that the Posmo App comes with severe uncertainties and tracking errors. Quantifying those uncertainties would be subject to another semester project in itself, which is why we assumed that the data we used was correct. </span>
<span id="cb18-399"><a href="#cb18-399"></a></span>
<span id="cb18-400"><a href="#cb18-400"></a></span>
<span id="cb18-401"><a href="#cb18-401"></a></span>
<span id="cb18-402"><a href="#cb18-402"></a></span>
<span id="cb18-403"><a href="#cb18-403"></a><span class="fu">## Days of the Week Patterns</span></span>
<span id="cb18-404"><a href="#cb18-404"></a></span>
<span id="cb18-405"><a href="#cb18-405"></a></span>
<span id="cb18-406"><a href="#cb18-406"></a><span class="fu">## Influence of the Time of the Day</span></span>
<span id="cb18-407"><a href="#cb18-407"></a></span>
<span id="cb18-408"><a href="#cb18-408"></a></span>
<span id="cb18-409"><a href="#cb18-409"></a><span class="fu">## Precipiation Patterns </span></span>
<span id="cb18-410"><a href="#cb18-410"></a></span>
<span id="cb18-411"><a href="#cb18-411"></a>Precipitation impacted spatio-temporal movement patterns of students only in a marginal way, indicating no significant relationship between precipitation and movement patterns concerning several travel modes. </span>
<span id="cb18-412"><a href="#cb18-412"></a></span>
<span id="cb18-413"><a href="#cb18-413"></a>However, although only insignificant effects could be shown, some patterns were emerging as the movement (distance, speed and duration) of students was reduced under heavy rain when travelling by bike, bus and car, while it was increased when travelling by train and tram. This results are in contrast to Brum-Bastos et al. (2018), where they found a general trend of more vehicular use under heavy rain, while in our study we found e general decrease in the use of cars.  </span>
<span id="cb18-414"><a href="#cb18-414"></a></span>
<span id="cb18-415"><a href="#cb18-415"></a>By foot it could only be shown that speed and distance were lower under heavy rain, while the duration was not impacted by precipitation patterns. In contrast to our finding, Brum-Bastos et al. (2018) found an overall decrease in walking during rain. The travel mode by horse showed no response in movement to precipitation. </span>
<span id="cb18-416"><a href="#cb18-416"></a></span>
<span id="cb18-417"><a href="#cb18-417"></a>It was shown, that when travel destinations are obligatory (e.g., work, lectures) people change their travel mode more likely under heavy rain, meaning that they drive to work instead of walk. However, if destinations are linked to leisure activities, people more likely just postpone the task instead of changing their travel mode (Connolly, 2008).</span>
<span id="cb18-418"><a href="#cb18-418"></a></span>
<span id="cb18-419"><a href="#cb18-419"></a>Additionally, during the week a decrease in public transport was observed under heavy rain by Brum-Bastos et al. (2018). This finding are in contrast to our results, where the use of some public transport means (train and tram) was increased under heavy rain, although we did not include the consideration of the days of the week. </span>
<span id="cb18-420"><a href="#cb18-420"></a></span>
<span id="cb18-421"><a href="#cb18-421"></a>However, it is to be said, that those marginal patterns found in our data is not indicative, as we only had a sample size of 5 students and investigated 11 days, from which 8 days were considered having heavy rainfall. Additionally, the results need to be interpreted with caution, as in fig. 11 it is shown, that for some trajectory points weather stations are rather far away to serve as indication for precipitation. </span>
<span id="cb18-422"><a href="#cb18-422"></a></span>
<span id="cb18-423"><a href="#cb18-423"></a></span>
<span id="cb18-424"><a href="#cb18-424"></a></span>
<span id="cb18-425"><a href="#cb18-425"></a><span class="fu"># SOURCES</span></span>
<span id="cb18-426"><a href="#cb18-426"></a></span>
<span id="cb18-427"><a href="#cb18-427"></a><span class="fu">## Data</span></span>
<span id="cb18-428"><a href="#cb18-428"></a></span>
<span id="cb18-429"><a href="#cb18-429"></a><span class="ss">- </span>**Trajectory data of students:** Posmo App </span>
<span id="cb18-430"><a href="#cb18-430"></a><span class="ss">- </span>**Weather data:** https://gate.meteoswiss.ch/idaweb</span>
<span id="cb18-431"><a href="#cb18-431"></a></span>
<span id="cb18-432"><a href="#cb18-432"></a><span class="fu">## Literature</span></span>
<span id="cb18-433"><a href="#cb18-433"></a></span>
<span id="cb18-434"><a href="#cb18-434"></a><span class="ss">- </span>Brum-Bastos, V. S., Long, J. A., &amp; Demšar, U. (2018). Weather effects on human mobility: A study using multi-channel sequence analysis. Computers, Environment and Urban Systems, 71, 131–152. https://doi.org/10.1016/j.compenvurbsys.2018.05.004</span>
<span id="cb18-435"><a href="#cb18-435"></a></span>
<span id="cb18-436"><a href="#cb18-436"></a><span class="ss">- </span>Bundesamt für Statistik. (2021). Pendlermobilität. Bundesamt für Statistik. https://www.bfs.admin.ch/bfs/de/home/statistiken/mobilitaet-verkehr/personenverkehr/pendlermobilitaet.html</span>
<span id="cb18-437"><a href="#cb18-437"></a></span>
<span id="cb18-438"><a href="#cb18-438"></a><span class="ss">- </span>Bundesamt für Statistik. (2023, March 28). Studierende an den universitären Hochschulen: Basistabellen - 1990-2022 | Tabelle. Bundesamt für Statistik. https://www.bfs.admin.ch/asset/de/24345359</span>
<span id="cb18-439"><a href="#cb18-439"></a></span>
<span id="cb18-440"><a href="#cb18-440"></a><span class="ss">- </span>Connolly, M. (2008). Here Comes the Rain Again: Weather and the Intertemporal Substitution of Leisure. Source Journal of Labor Economics Journal of Labor Economics, 26(1), 73–100. https://doi.org/10.1086/522067</span>
<span id="cb18-441"><a href="#cb18-441"></a></span>
<span id="cb18-442"><a href="#cb18-442"></a><span class="ss">- </span>Kattiyapornpong, U., &amp; Miller, K. E. (2009). Socio‐demographic constraints to travel behavior. International Journal of Culture, Tourism and Hospitality Research, 3(1), 81–94. https://doi.org/10.1108/17506180910940360</span>
<span id="cb18-443"><a href="#cb18-443"></a></span>
<span id="cb18-444"><a href="#cb18-444"></a><span class="ss">- </span>Khattak, A., Wang, X., Son, S., &amp; Agnello, P. (2011). Travel by University Students in Virginia: Is This Travel Different from Travel by the General Population? Transportation Research Record: Journal of the Transportation Research Board, 2255(1). https://doi.org/10.3141/2255-15</span>
<span id="cb18-445"><a href="#cb18-445"></a></span>
<span id="cb18-446"><a href="#cb18-446"></a><span class="ss">- </span>Kyaing, K., Lwin, K., &amp; Sekimoto, Y. (2017). Human mobility patterns for different regions in Myanmar based on CDRs data. IPTEK Journal of Proceedings Series, 3(6).</span>
<span id="cb18-447"><a href="#cb18-447"></a></span>
<span id="cb18-448"><a href="#cb18-448"></a><span class="ss">- </span>Liu, X., Sun, L., Sun, Q., &amp; Gao, G. (2020). Spatial Variation of Taxi Demand Using GPS Trajectories and POI Data. Journal of Advanced Transportation, 2020, e7621576. https://doi.org/10.1155/2020/7621576</span>
<span id="cb18-449"><a href="#cb18-449"></a></span>
<span id="cb18-450"><a href="#cb18-450"></a></span>
<span id="cb18-451"><a href="#cb18-451"></a><span class="ss">- </span>MeteoSwiss. (n.d.). Precipitation. Federal Office of Meterology and Climatology MeteoSwiss. Retrieved 19 June 2023, from https://www.meteoschweiz.admin.ch/wetter/wetter-und-klima-von-a-bis-z/niederschlag.html</span>
<span id="cb18-452"><a href="#cb18-452"></a></span>
<span id="cb18-453"><a href="#cb18-453"></a><span class="ss">- </span>Sathishkumar, Cho, Y., &amp; Jangwoo, Park. (2020). Seoul bike trip duration prediction using data mining techniques. IET Intelligent Transport Systems, 14(11), 1465–1474. https://doi.org/10.1049/iet-its.2019.0796</span>
</code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></div></div></div></div>
</div> <!-- /content -->



</body></html>